2025-08-03 17:12:08,154 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250803_171208.log
2025-08-03 17:12:08,154 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250803_171208.log
2025-08-03 17:12:08,155 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,237 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 9324
2025-08-03 17:12:08,238 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 17:12:08,239 [INFO] ✅ ManagedSystem cache yüklendi. (9 kayıt)
2025-08-03 17:12:08,240 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,324 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-03 17:12:08,325 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 17:12:08,325 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-03 17:12:08,327 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,366 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 10209
2025-08-03 17:12:08,367 [INFO] ✅ SmartRule cache yüklendi. (35 kayıt)
2025-08-03 17:12:08,368 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,391 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-03 17:12:08,391 [INFO] 📥 Application listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-03 17:12:08,392 [INFO] ✅ Application cache yüklendi. (4 kayıt)
2025-08-03 17:12:08,393 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,419 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 2257
2025-08-03 17:12:08,420 [INFO] 📥 User group listesi API'den alındı ve cache'e yazıldı. (7 kayıt)
2025-08-03 17:12:08,420 [INFO] ✅ UserGroup cache yüklendi. (7 kayıt)
2025-08-03 17:12:08,421 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,455 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Users HTTP/1.1" 200 3406
2025-08-03 17:12:08,456 [INFO] 📥 User listesi API'den alındı ve cache'e yazıldı. (10 kayıt)
2025-08-03 17:12:08,457 [INFO] ✅ User cache yüklendi. (10 kayıt)
2025-08-03 17:12:08,467 [INFO] Row 1: ✅ Zaten mevcut → None
2025-08-03 17:12:08,467 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.com, Username: pam118064
2025-08-03 17:12:08,467 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:08,467 [ERROR] [ADManagedAccount] Kod: 1 Message: ❌ Domain controller bulunamadı. Domain: quasys.com
2025-08-03 17:12:08,467 [INFO] Row 2: ✅ Zaten mevcut → None
2025-08-03 17:12:08,468 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-03 17:12:08,468 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:08,469 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,538 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 17:12:08,540 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-03 17:12:08,540 [INFO] [Row 1] ✅ AD managed account zaten var: pam118065
2025-08-03 17:12:08,540 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 106
2025-08-03 17:12:08,541 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,586 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/106 HTTP/1.1" 200 1121
2025-08-03 17:12:08,586 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 106
2025-08-03 17:12:08,587 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 17:12:08,588 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 17:12:08,588 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,638 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:08,640 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,744 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:08,744 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 17:12:08,746 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 106]
2025-08-03 17:12:08,746 [INFO] 🚀 Application atama başlatıldı. (AccountID: 106)
2025-08-03 17:12:08,746 [INFO] [Row 1] ✅ User group zaten mevcut: E_PEKDAS
2025-08-03 17:12:08,746 [INFO] [Row 1] 🔍 UserGroupID: 70
2025-08-03 17:12:08,746 [INFO] [Row 2] 🔍 UserGroupID: 70
2025-08-03 17:12:08,747 [INFO] [Row 2] 🧪 UserMember işlemi başlatılıyor... GroupID=70
2025-08-03 17:12:08,747 [DEBUG] [DEBUG] Row 1: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=70
2025-08-03 17:12:08,747 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-03 17:12:08,747 [DEBUG] [DEBUG] Row 1: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-03 17:12:08,747 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 23
2025-08-03 17:12:08,748 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,774 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/23/UserGroups/70 HTTP/1.1" 201 272
2025-08-03 17:12:08,775 [INFO] ✅ Kullanıcı (ID: 23) gruba (ID: 70) başarıyla eklendi.
2025-08-03 17:12:08,775 [INFO] [Row 1] ➕ Kullanıcı (ID=23) gruba eklendi (GroupID=70)
2025-08-03 17:12:08,776 [INFO] Row 3: ✅ Zaten mevcut → None
2025-08-03 17:12:08,776 [DEBUG] [Row 1] 🔍 MSSQL Managed Account işlemi başlatıldı. IP: 10.59.76.112, Username: pam118064
2025-08-03 17:12:08,776 [DEBUG] [Row 1] 🆔 Bulunan managed system ID: 187
2025-08-03 17:12:08,777 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,843 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/187/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 17:12:08,845 [INFO] [Row 1] ✅ MSSQL managed account zaten var: pam118064
2025-08-03 17:12:08,845 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 17:12:08,845 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 17:12:08,846 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,890 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 17:12:08,892 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:08,982 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 17:12:08,983 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 17:12:08,984 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 107]
2025-08-03 17:12:08,984 [INFO] 🚀 Application atama başlatıldı. (AccountID: 107)
2025-08-03 17:12:08,985 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,014 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/107/Applications HTTP/1.1" 200 449
2025-08-03 17:12:09,015 [INFO] ⚠️ Application 'mssql' zaten atanmış, atlama yapıldı.
2025-08-03 17:12:09,015 [INFO] [Row 1] ✅ User group zaten mevcut: S_OZCAN
2025-08-03 17:12:09,015 [INFO] [Row 1] 🔍 UserGroupID: 71
2025-08-03 17:12:09,016 [INFO] [Row 3] 🔍 UserGroupID: 71
2025-08-03 17:12:09,016 [INFO] [Row 3] 🧪 UserMember işlemi başlatılıyor... GroupID=71
2025-08-03 17:12:09,016 [DEBUG] [DEBUG] Row 1: ➡️ Girdi üyeleri: S_OZCAN,E_PEKDAS (Tip: <class 'str'>) → GroupID=71
2025-08-03 17:12:09,016 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: S_OZCAN,E_PEKDAS
2025-08-03 17:12:09,016 [DEBUG] [DEBUG] Row 1: 🧪 Normalize üyeler: ['s_ozcan', 'e_pekdas']
2025-08-03 17:12:09,016 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: s_ozcan → ID: 24
2025-08-03 17:12:09,016 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 23
2025-08-03 17:12:09,017 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,043 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/24/UserGroups/71 HTTP/1.1" 201 270
2025-08-03 17:12:09,043 [INFO] ✅ Kullanıcı (ID: 24) gruba (ID: 71) başarıyla eklendi.
2025-08-03 17:12:09,045 [INFO] [Row 1] ➕ Kullanıcı (ID=24) gruba eklendi (GroupID=71)
2025-08-03 17:12:09,046 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,072 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/23/UserGroups/71 HTTP/1.1" 201 270
2025-08-03 17:12:09,072 [INFO] ✅ Kullanıcı (ID: 23) gruba (ID: 71) başarıyla eklendi.
2025-08-03 17:12:09,073 [INFO] [Row 1] ➕ Kullanıcı (ID=23) gruba eklendi (GroupID=71)
2025-08-03 17:12:09,074 [INFO] Row 4: ✅ Zaten mevcut → None
2025-08-03 17:12:09,074 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 17:12:09,074 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:09,075 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,142 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 17:12:09,143 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 17:12:09,144 [INFO] [Row 2] ✅ AD managed account zaten var: pam100887
2025-08-03 17:12:09,144 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 17:12:09,145 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,178 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 17:12:09,178 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 17:12:09,179 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-03 17:12:09,180 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_Y_UCUNCUOGLU (ID: 10044)
2025-08-03 17:12:09,181 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,231 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 17:12:09,234 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,327 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 17:12:09,327 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10044, AccountIDs=[108]
2025-08-03 17:12:09,328 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [108, 108]
2025-08-03 17:12:09,329 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 17:12:09,329 [INFO] [Row 2] ✅ User group zaten mevcut: Y_UCUNCUOGLU
2025-08-03 17:12:09,329 [INFO] [Row 2] 🔍 UserGroupID: 72
2025-08-03 17:12:09,329 [INFO] [Row 4] 🔍 UserGroupID: 72
2025-08-03 17:12:09,329 [INFO] [Row 4] 🧪 UserMember işlemi başlatılıyor... GroupID=72
2025-08-03 17:12:09,329 [DEBUG] [DEBUG] Row 2: ➡️ Girdi üyeleri: Y_UCUNCUOGLU (Tip: <class 'str'>) → GroupID=72
2025-08-03 17:12:09,329 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: Y_UCUNCUOGLU
2025-08-03 17:12:09,329 [DEBUG] [DEBUG] Row 2: 🧪 Normalize üyeler: ['y_ucuncuoglu']
2025-08-03 17:12:09,329 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: y_ucuncuoglu → ID: 25
2025-08-03 17:12:09,330 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,355 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/25/UserGroups/72 HTTP/1.1" 201 280
2025-08-03 17:12:09,355 [INFO] ✅ Kullanıcı (ID: 25) gruba (ID: 72) başarıyla eklendi.
2025-08-03 17:12:09,356 [INFO] [Row 2] ➕ Kullanıcı (ID=25) gruba eklendi (GroupID=72)
2025-08-03 17:12:09,357 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-03 17:12:09,357 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 17:12:09,357 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:09,358 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,422 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 17:12:09,423 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 17:12:09,424 [INFO] [Row 2] ✅ AD managed account zaten var: pam100888
2025-08-03 17:12:09,424 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 17:12:09,425 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,458 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 17:12:09,459 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 17:12:09,460 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 17:12:09,460 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 17:12:09,461 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,510 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 17:12:09,512 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,619 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 17:12:09,620 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 17:12:09,621 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 17:12:09,621 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 17:12:09,621 [INFO] [Row 2] ✅ User group zaten mevcut: E_YARDIMCI
2025-08-03 17:12:09,621 [INFO] [Row 2] 🔍 UserGroupID: 73
2025-08-03 17:12:09,621 [INFO] [Row 5] 🔍 UserGroupID: 73
2025-08-03 17:12:09,621 [INFO] [Row 5] 🧪 UserMember işlemi başlatılıyor... GroupID=73
2025-08-03 17:12:09,622 [DEBUG] [DEBUG] Row 2: ➡️ Girdi üyeleri: E_YARDIMCI (Tip: <class 'str'>) → GroupID=73
2025-08-03 17:12:09,622 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_YARDIMCI
2025-08-03 17:12:09,622 [DEBUG] [DEBUG] Row 2: 🧪 Normalize üyeler: ['e_yardimci']
2025-08-03 17:12:09,622 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_yardimci → ID: 26
2025-08-03 17:12:09,622 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,648 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/26/UserGroups/73 HTTP/1.1" 201 276
2025-08-03 17:12:09,649 [INFO] ✅ Kullanıcı (ID: 26) gruba (ID: 73) başarıyla eklendi.
2025-08-03 17:12:09,650 [INFO] [Row 2] ➕ Kullanıcı (ID=26) gruba eklendi (GroupID=73)
2025-08-03 17:12:09,650 [INFO] Row 6: ✅ Zaten mevcut → None
2025-08-03 17:12:09,650 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 17:12:09,650 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 189
2025-08-03 17:12:09,651 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,720 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 17:12:09,722 [INFO] [Row 3] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 17:12:09,722 [DEBUG] [Row 3] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_MISIR
2025-08-03 17:12:09,722 [INFO] [Row 3] ✅ Smart Rule zaten mevcut: THY_MA_E_MISIR (ID: 10046)
2025-08-03 17:12:09,723 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,768 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 17:12:09,770 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,863 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 17:12:09,863 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10046, AccountIDs=[110]
2025-08-03 17:12:09,864 [INFO] [Row 3] 📎 Smart Rule account listesi güncellendi: [110, 110]
2025-08-03 17:12:09,865 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 17:12:09,866 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,894 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 17:12:09,895 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 17:12:09,897 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:09,923 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 17:12:09,924 [INFO] ⚠️ Application 'winscp' zaten atanmış, atlama yapıldı.
2025-08-03 17:12:09,924 [INFO] [Row 3] ✅ User group zaten mevcut: E_MISIR
2025-08-03 17:12:09,924 [INFO] [Row 3] 🔍 UserGroupID: 74
2025-08-03 17:12:09,925 [INFO] [Row 6] 🔍 UserGroupID: 74
2025-08-03 17:12:09,925 [INFO] [Row 6] 🧪 UserMember işlemi başlatılıyor... GroupID=74
2025-08-03 17:12:09,925 [DEBUG] [DEBUG] Row 3: ➡️ Girdi üyeleri: E_MISIR (Tip: <class 'str'>) → GroupID=74
2025-08-03 17:12:09,925 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_MISIR
2025-08-03 17:12:09,925 [DEBUG] [DEBUG] Row 3: 🧪 Normalize üyeler: ['e_misir']
2025-08-03 17:12:09,926 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,470 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 400 53
2025-08-03 17:12:17,470 [ERROR] [UserAPI] Kod: -1 Message: Kullanıcı oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/Users/
2025-08-03 17:12:17,471 [ERROR] [UserGroupMember] Kod: 3 Message: ❌ Kullanıcı bulunamadı veya oluşturulamadı: e_misir
2025-08-03 17:12:17,472 [ERROR] [UserGroupMember] Kod: 3 Message: ❌ Hiçbir geçerli kullanıcı bulunamadı, user group'a üye eklenmeyecek.
2025-08-03 17:12:17,472 [INFO] Row 7: ✅ Zaten mevcut → None
2025-08-03 17:12:17,472 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: admin
2025-08-03 17:12:17,472 [INFO] [Row 3] ℹ️ Atlandı: 'pam' ile başlamayan Oracle username: admin
2025-08-03 17:12:17,472 [INFO] Row 8: ✅ Zaten mevcut → None
2025-08-03 17:12:17,472 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 17:12:17,472 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:17,473 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,544 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 17:12:17,545 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 17:12:17,546 [INFO] [Row 4] ✅ AD managed account zaten var: pam100887
2025-08-03 17:12:17,546 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 17:12:17,547 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,580 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 17:12:17,580 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 17:12:17,581 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 17:12:17,582 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 17:12:17,582 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,625 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:17,628 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,721 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:17,722 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 17:12:17,723 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 108]
2025-08-03 17:12:17,723 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 17:12:17,724 [INFO] [Row 4] ✅ User group zaten mevcut: E_PEKDAS
2025-08-03 17:12:17,724 [INFO] [Row 4] 🔍 UserGroupID: 70
2025-08-03 17:12:17,724 [INFO] [Row 8] 🔍 UserGroupID: 70
2025-08-03 17:12:17,724 [INFO] [Row 8] 🧪 UserMember işlemi başlatılıyor... GroupID=70
2025-08-03 17:12:17,724 [DEBUG] [DEBUG] Row 4: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=70
2025-08-03 17:12:17,724 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-03 17:12:17,724 [DEBUG] [DEBUG] Row 4: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-03 17:12:17,724 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 23
2025-08-03 17:12:17,725 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,751 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/23/UserGroups/70 HTTP/1.1" 201 272
2025-08-03 17:12:17,752 [INFO] ✅ Kullanıcı (ID: 23) gruba (ID: 70) başarıyla eklendi.
2025-08-03 17:12:17,753 [INFO] [Row 4] ➕ Kullanıcı (ID=23) gruba eklendi (GroupID=70)
2025-08-03 17:12:17,753 [INFO] Row 9: ✅ Zaten mevcut → None
2025-08-03 17:12:17,754 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 17:12:17,754 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 17:12:17,754 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,838 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 17:12:17,839 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 17:12:17,840 [INFO] [Row 4] ✅ AD managed account zaten var: pam100888
2025-08-03 17:12:17,840 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 17:12:17,841 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,875 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 17:12:17,876 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 17:12:17,877 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 17:12:17,877 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 17:12:17,878 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:17,921 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 17:12:17,923 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,021 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 17:12:18,021 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 17:12:18,022 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 17:12:18,023 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 17:12:18,023 [INFO] [Row 4] ✅ User group zaten mevcut: E_YARDIMCI
2025-08-03 17:12:18,023 [INFO] [Row 4] 🔍 UserGroupID: 73
2025-08-03 17:12:18,023 [INFO] [Row 9] 🔍 UserGroupID: 73
2025-08-03 17:12:18,023 [INFO] [Row 9] 🧪 UserMember işlemi başlatılıyor... GroupID=73
2025-08-03 17:12:18,023 [DEBUG] [DEBUG] Row 4: ➡️ Girdi üyeleri: E_YARDIMCI (Tip: <class 'str'>) → GroupID=73
2025-08-03 17:12:18,023 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_YARDIMCI
2025-08-03 17:12:18,023 [DEBUG] [DEBUG] Row 4: 🧪 Normalize üyeler: ['e_yardimci']
2025-08-03 17:12:18,023 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_yardimci → ID: 26
2025-08-03 17:12:18,024 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,050 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/26/UserGroups/73 HTTP/1.1" 201 276
2025-08-03 17:12:18,051 [INFO] ✅ Kullanıcı (ID: 26) gruba (ID: 73) başarıyla eklendi.
2025-08-03 17:12:18,052 [INFO] [Row 4] ➕ Kullanıcı (ID=26) gruba eklendi (GroupID=73)
2025-08-03 17:12:18,052 [INFO] Row 10: ✅ Zaten mevcut → None
2025-08-03 17:12:18,053 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 17:12:18,053 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 17:12:18,054 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,121 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 17:12:18,122 [INFO] [Row 5] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 17:12:18,123 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 17:12:18,123 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 17:12:18,123 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,167 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 17:12:18,170 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,267 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 17:12:18,268 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 17:12:18,269 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 110]
2025-08-03 17:12:18,269 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 17:12:18,270 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,297 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 17:12:18,298 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 17:12:18,298 [INFO] [Row 5] ✅ User group zaten mevcut: S_OZCAN
2025-08-03 17:12:18,298 [INFO] [Row 5] 🔍 UserGroupID: 71
2025-08-03 17:12:18,299 [INFO] [Row 10] 🔍 UserGroupID: 71
2025-08-03 17:12:18,299 [INFO] [Row 10] 🧪 UserMember işlemi başlatılıyor... GroupID=71
2025-08-03 17:12:18,299 [DEBUG] [DEBUG] Row 5: ➡️ Girdi üyeleri: S_OZCAN (Tip: <class 'str'>) → GroupID=71
2025-08-03 17:12:18,299 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: S_OZCAN
2025-08-03 17:12:18,299 [DEBUG] [DEBUG] Row 5: 🧪 Normalize üyeler: ['s_ozcan']
2025-08-03 17:12:18,299 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: s_ozcan → ID: 24
2025-08-03 17:12:18,300 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,324 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/24/UserGroups/71 HTTP/1.1" 201 270
2025-08-03 17:12:18,325 [INFO] ✅ Kullanıcı (ID: 24) gruba (ID: 71) başarıyla eklendi.
2025-08-03 17:12:18,326 [INFO] [Row 5] ➕ Kullanıcı (ID=24) gruba eklendi (GroupID=71)
2025-08-03 17:12:18,326 [INFO] Row 11: ✅ Zaten mevcut → None
2025-08-03 17:12:18,326 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: pam100888
2025-08-03 17:12:18,326 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 17:12:18,327 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,395 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 17:12:18,397 [INFO] [Row 5] ✅ Oracle managed account zaten var: pam100888
2025-08-03 17:12:18,397 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 17:12:18,397 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 17:12:18,398 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,440 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:18,442 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,544 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 17:12:18,545 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 17:12:18,546 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 111]
2025-08-03 17:12:18,546 [INFO] 🚀 Application atama başlatıldı. (AccountID: 111)
2025-08-03 17:12:18,547 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,578 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/111/Applications HTTP/1.1" 200 287
2025-08-03 17:12:18,579 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 17:12:18,580 [INFO] [Row 5] ✅ User group zaten mevcut: E_PEKDAS
2025-08-03 17:12:18,580 [INFO] [Row 5] 🔍 UserGroupID: 70
2025-08-03 17:12:18,580 [INFO] [Row 11] 🔍 UserGroupID: 70
2025-08-03 17:12:18,581 [INFO] [Row 11] 🧪 UserMember işlemi başlatılıyor... GroupID=70
2025-08-03 17:12:18,581 [DEBUG] [DEBUG] Row 5: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=70
2025-08-03 17:12:18,581 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-03 17:12:18,581 [DEBUG] [DEBUG] Row 5: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-03 17:12:18,581 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 23
2025-08-03 17:12:18,582 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 17:12:18,606 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/23/UserGroups/70 HTTP/1.1" 201 272
2025-08-03 17:12:18,607 [INFO] ✅ Kullanıcı (ID: 23) gruba (ID: 70) başarıyla eklendi.
2025-08-03 17:12:18,607 [INFO] [Row 5] ➕ Kullanıcı (ID=23) gruba eklendi (GroupID=70)
