2025-08-04 12:47:19,045 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250804_124719.log
2025-08-04 12:47:19,045 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250804_124719.log
2025-08-04 12:47:19,046 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,129 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 9324
2025-08-04 12:47:19,130 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-04 12:47:19,131 [INFO] ✅ ManagedSystem cache yüklendi. (9 kayıt)
2025-08-04 12:47:19,132 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,215 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-04 12:47:19,216 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-04 12:47:19,217 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-04 12:47:19,218 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,259 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 10226
2025-08-04 12:47:19,260 [INFO] ✅ SmartRule cache yüklendi. (35 kayıt)
2025-08-04 12:47:19,261 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,288 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-04 12:47:19,288 [INFO] 📥 Application listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-04 12:47:19,289 [INFO] ✅ Application cache yüklendi. (4 kayıt)
2025-08-04 12:47:19,290 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,318 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 977
2025-08-04 12:47:19,319 [INFO] 📥 User group listesi API'den alındı ve cache'e yazıldı. (3 kayıt)
2025-08-04 12:47:19,320 [INFO] ✅ UserGroup cache yüklendi. (3 kayıt)
2025-08-04 12:47:19,321 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,361 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Users HTTP/1.1" 200 2091
2025-08-04 12:47:19,361 [INFO] 📥 User listesi API'den alındı ve cache'e yazıldı. (6 kayıt)
2025-08-04 12:47:19,362 [INFO] ✅ User cache yüklendi. (6 kayıt)
2025-08-04 12:47:19,363 [INFO] 🧹 Var olan output dosyası silindi: data/btmigrate_output.xlsx
2025-08-04 12:47:19,371 [INFO] ✅ Output Excel dosyası oluşturuldu: data/btmigrate_output.xlsx
2025-08-04 12:47:19,382 [INFO] Row 1: ✅ Zaten mevcut → None
2025-08-04 12:47:19,383 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.com, Username: pam118064
2025-08-04 12:47:19,383 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:19,383 [ERROR] [ADManagedAccount] Kod: 1 Message: ❌ Domain controller bulunamadı. Domain: quasys.com
2025-08-04 12:47:19,392 [INFO] Row 2: ✅ Zaten mevcut → None
2025-08-04 12:47:19,393 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-04 12:47:19,393 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:19,394 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,467 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4523
2025-08-04 12:47:19,469 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-04 12:47:19,469 [INFO] [Row 1] ✅ AD managed account zaten var: pam118065
2025-08-04 12:47:19,469 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 206, AccountID: 113
2025-08-04 12:47:19,470 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,506 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/206/LinkedAccounts/113 HTTP/1.1" 200 1122
2025-08-04 12:47:19,506 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 206, AccountID: 113
2025-08-04 12:47:19,508 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-04 12:47:19,508 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-04 12:47:19,510 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,594 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 2
2025-08-04 12:47:19,596 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,706 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 1124
2025-08-04 12:47:19,706 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[113]
2025-08-04 12:47:19,707 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [113]
2025-08-04 12:47:19,708 [INFO] 🚀 Application atama başlatıldı. (AccountID: 113)
2025-08-04 12:47:19,708 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_PEKDAS', 'description': 'E_PEKDAS', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10043, 'AccessLevelID': 3}]}
2025-08-04 12:47:19,708 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: E_PEKDAS
2025-08-04 12:47:19,709 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:19,961 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 272
2025-08-04 12:47:19,962 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 76, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_PEKDAS', 'DistinguishedName': None, 'Description': 'E_PEKDAS', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-04 12:47:19,962 [INFO] ✅ User group oluşturuldu: E_PEKDAS (ID: 76)
2025-08-04 12:47:19,964 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:20,028 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/76/SmartRules/10043/Roles HTTP/1.1" 204 0
2025-08-04 12:47:20,028 [INFO] [Row 1] ✅ SmartRule Role ataması başarılı → GroupID=76, RuleID=10043
2025-08-04 12:47:20,030 [DEBUG] [DEBUG] Row 1: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=76
2025-08-04 12:47:20,030 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-04 12:47:20,030 [DEBUG] [DEBUG] Row 1: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-04 12:47:20,031 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:20,645 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 214
2025-08-04 12:47:20,645 [INFO] ✅ Kullanıcı oluşturuldu: e_pekdas (ID: 28)
2025-08-04 12:47:20,647 [INFO] ✅ Yeni kullanıcı cache'e eklendi: e_pekdas (ID: 28)
2025-08-04 12:47:20,648 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:20,762 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/28/UserGroups/76 HTTP/1.1" 201 272
2025-08-04 12:47:20,763 [INFO] ✅ Kullanıcı (ID: 28) gruba (ID: 76) başarıyla eklendi.
2025-08-04 12:47:20,764 [INFO] [Row 1] ➕ Kullanıcı (ID=28) gruba eklendi (GroupID=76)
2025-08-04 12:47:20,774 [INFO] Row 3: ✅ Zaten mevcut → None
2025-08-04 12:47:20,775 [DEBUG] [Row 1] 🔍 MSSQL Managed Account işlemi başlatıldı. IP: 10.59.76.112, Username: pam118064
2025-08-04 12:47:20,775 [DEBUG] [Row 1] 🆔 Bulunan managed system ID: 207
2025-08-04 12:47:20,776 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:20,847 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/207/ManagedAccounts HTTP/1.1" 200 1103
2025-08-04 12:47:20,848 [INFO] [Row 1] ✅ MSSQL managed account zaten var: pam118064
2025-08-04 12:47:20,849 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-04 12:47:20,849 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-04 12:47:20,850 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:20,947 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 2
2025-08-04 12:47:20,949 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,046 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 1103
2025-08-04 12:47:21,046 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[114]
2025-08-04 12:47:21,048 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [114]
2025-08-04 12:47:21,048 [INFO] 🚀 Application atama başlatıldı. (AccountID: 114)
2025-08-04 12:47:21,049 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,080 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/114/Applications HTTP/1.1" 200 2
2025-08-04 12:47:21,082 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,116 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/114/Applications/3 HTTP/1.1" 201 447
2025-08-04 12:47:21,117 [INFO] ✅ ApplicationID 3 → ManagedAccountID 114 ataması başarılı.
2025-08-04 12:47:21,118 [INFO] ✅ Application 'mssql' başarıyla atandı (ID: 3).
2025-08-04 12:47:21,118 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10042, 'AccessLevelID': 3}]}
2025-08-04 12:47:21,118 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: S_OZCAN
2025-08-04 12:47:21,119 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,216 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-04 12:47:21,217 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 77, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'S_OZCAN', 'DistinguishedName': None, 'Description': 'S_OZCAN', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-04 12:47:21,217 [INFO] ✅ User group oluşturuldu: S_OZCAN (ID: 77)
2025-08-04 12:47:21,219 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,273 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/77/SmartRules/10042/Roles HTTP/1.1" 204 0
2025-08-04 12:47:21,274 [INFO] [Row 1] ✅ SmartRule Role ataması başarılı → GroupID=77, RuleID=10042
2025-08-04 12:47:21,275 [DEBUG] [DEBUG] Row 1: ➡️ Girdi üyeleri: S_OZCAN,E_PEKDAS (Tip: <class 'str'>) → GroupID=77
2025-08-04 12:47:21,276 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: S_OZCAN,E_PEKDAS
2025-08-04 12:47:21,276 [DEBUG] [DEBUG] Row 1: 🧪 Normalize üyeler: ['s_ozcan', 'e_pekdas']
2025-08-04 12:47:21,276 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,376 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 213
2025-08-04 12:47:21,376 [INFO] ✅ Kullanıcı oluşturuldu: s_ozcan (ID: 29)
2025-08-04 12:47:21,377 [INFO] ✅ Yeni kullanıcı cache'e eklendi: s_ozcan (ID: 29)
2025-08-04 12:47:21,378 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 28
2025-08-04 12:47:21,379 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,417 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/29/UserGroups/77 HTTP/1.1" 201 270
2025-08-04 12:47:21,417 [INFO] ✅ Kullanıcı (ID: 29) gruba (ID: 77) başarıyla eklendi.
2025-08-04 12:47:21,418 [INFO] [Row 1] ➕ Kullanıcı (ID=29) gruba eklendi (GroupID=77)
2025-08-04 12:47:21,420 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,460 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/28/UserGroups/77 HTTP/1.1" 201 270
2025-08-04 12:47:21,461 [INFO] ✅ Kullanıcı (ID: 28) gruba (ID: 77) başarıyla eklendi.
2025-08-04 12:47:21,462 [INFO] [Row 1] ➕ Kullanıcı (ID=28) gruba eklendi (GroupID=77)
2025-08-04 12:47:21,472 [INFO] Row 4: ✅ Zaten mevcut → None
2025-08-04 12:47:21,472 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-04 12:47:21,473 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:21,473 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,547 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4523
2025-08-04 12:47:21,548 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-04 12:47:21,548 [INFO] [Row 2] ✅ AD managed account zaten var: pam100887
2025-08-04 12:47:21,549 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 208, AccountID: 115
2025-08-04 12:47:21,549 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,587 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/208/LinkedAccounts/115 HTTP/1.1" 200 1122
2025-08-04 12:47:21,587 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 208, AccountID: 115
2025-08-04 12:47:21,589 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-04 12:47:21,589 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_Y_UCUNCUOGLU (ID: 10044)
2025-08-04 12:47:21,590 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,681 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 2
2025-08-04 12:47:21,684 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,792 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-04 12:47:21,792 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10044, AccountIDs=[115]
2025-08-04 12:47:21,793 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [115]
2025-08-04 12:47:21,794 [INFO] 🚀 Application atama başlatıldı. (AccountID: 115)
2025-08-04 12:47:21,794 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'Y_UCUNCUOGLU', 'description': 'Y_UCUNCUOGLU', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10044, 'AccessLevelID': 3}]}
2025-08-04 12:47:21,794 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: Y_UCUNCUOGLU
2025-08-04 12:47:21,795 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,905 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 280
2025-08-04 12:47:21,906 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 78, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'Y_UCUNCUOGLU', 'DistinguishedName': None, 'Description': 'Y_UCUNCUOGLU', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-04 12:47:21,906 [INFO] ✅ User group oluşturuldu: Y_UCUNCUOGLU (ID: 78)
2025-08-04 12:47:21,908 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:21,991 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/78/SmartRules/10044/Roles HTTP/1.1" 204 0
2025-08-04 12:47:21,992 [INFO] [Row 2] ✅ SmartRule Role ataması başarılı → GroupID=78, RuleID=10044
2025-08-04 12:47:21,994 [DEBUG] [DEBUG] Row 2: ➡️ Girdi üyeleri: Y_UCUNCUOGLU (Tip: <class 'str'>) → GroupID=78
2025-08-04 12:47:21,994 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: Y_UCUNCUOGLU
2025-08-04 12:47:21,994 [DEBUG] [DEBUG] Row 2: 🧪 Normalize üyeler: ['y_ucuncuoglu']
2025-08-04 12:47:21,995 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,140 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 223
2025-08-04 12:47:22,140 [INFO] ✅ Kullanıcı oluşturuldu: y_ucuncuoglu (ID: 30)
2025-08-04 12:47:22,141 [INFO] ✅ Yeni kullanıcı cache'e eklendi: y_ucuncuoglu (ID: 30)
2025-08-04 12:47:22,142 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,178 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/30/UserGroups/78 HTTP/1.1" 201 280
2025-08-04 12:47:22,178 [INFO] ✅ Kullanıcı (ID: 30) gruba (ID: 78) başarıyla eklendi.
2025-08-04 12:47:22,179 [INFO] [Row 2] ➕ Kullanıcı (ID=30) gruba eklendi (GroupID=78)
2025-08-04 12:47:22,189 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-04 12:47:22,190 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-04 12:47:22,190 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:22,191 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,261 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4523
2025-08-04 12:47:22,263 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-04 12:47:22,263 [INFO] [Row 2] ✅ AD managed account zaten var: pam100888
2025-08-04 12:47:22,263 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 206, AccountID: 116
2025-08-04 12:47:22,265 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,298 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/206/LinkedAccounts/116 HTTP/1.1" 200 1123
2025-08-04 12:47:22,299 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 206, AccountID: 116
2025-08-04 12:47:22,301 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-04 12:47:22,301 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-04 12:47:22,302 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,384 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 2
2025-08-04 12:47:22,387 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,485 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-04 12:47:22,486 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[116]
2025-08-04 12:47:22,487 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [116]
2025-08-04 12:47:22,488 [INFO] 🚀 Application atama başlatıldı. (AccountID: 116)
2025-08-04 12:47:22,488 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_YARDIMCI', 'description': 'E_YARDIMCI', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10045, 'AccessLevelID': 3}]}
2025-08-04 12:47:22,488 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: E_YARDIMCI
2025-08-04 12:47:22,489 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,590 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 276
2025-08-04 12:47:22,591 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 79, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_YARDIMCI', 'DistinguishedName': None, 'Description': 'E_YARDIMCI', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-04 12:47:22,591 [INFO] ✅ User group oluşturuldu: E_YARDIMCI (ID: 79)
2025-08-04 12:47:22,593 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,655 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/79/SmartRules/10045/Roles HTTP/1.1" 204 0
2025-08-04 12:47:22,655 [INFO] [Row 2] ✅ SmartRule Role ataması başarılı → GroupID=79, RuleID=10045
2025-08-04 12:47:22,704 [DEBUG] [DEBUG] Row 2: ➡️ Girdi üyeleri: E_YARDIMCI (Tip: <class 'str'>) → GroupID=79
2025-08-04 12:47:22,704 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_YARDIMCI
2025-08-04 12:47:22,704 [DEBUG] [DEBUG] Row 2: 🧪 Normalize üyeler: ['e_yardimci']
2025-08-04 12:47:22,705 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,778 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 218
2025-08-04 12:47:22,778 [INFO] ✅ Kullanıcı oluşturuldu: e_yardimci (ID: 31)
2025-08-04 12:47:22,779 [INFO] ✅ Yeni kullanıcı cache'e eklendi: e_yardimci (ID: 31)
2025-08-04 12:47:22,781 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,823 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/31/UserGroups/79 HTTP/1.1" 201 276
2025-08-04 12:47:22,823 [INFO] ✅ Kullanıcı (ID: 31) gruba (ID: 79) başarıyla eklendi.
2025-08-04 12:47:22,825 [INFO] [Row 2] ➕ Kullanıcı (ID=31) gruba eklendi (GroupID=79)
2025-08-04 12:47:22,838 [INFO] Row 6: ✅ Zaten mevcut → None
2025-08-04 12:47:22,839 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-04 12:47:22,839 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 209
2025-08-04 12:47:22,840 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:22,921 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/209/ManagedAccounts HTTP/1.1" 200 2205
2025-08-04 12:47:22,923 [INFO] [Row 3] ✅ Oracle managed account zaten var: PAM100545
2025-08-04 12:47:22,924 [DEBUG] [Row 3] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_MISIR
2025-08-04 12:47:22,924 [INFO] [Row 3] ✅ Smart Rule zaten mevcut: THY_MA_E_MISIR (ID: 10046)
2025-08-04 12:47:22,925 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,034 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 2
2025-08-04 12:47:23,037 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,142 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-04 12:47:23,142 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10046, AccountIDs=[117]
2025-08-04 12:47:23,144 [INFO] [Row 3] 📎 Smart Rule account listesi güncellendi: [117]
2025-08-04 12:47:23,145 [INFO] 🚀 Application atama başlatıldı. (AccountID: 117)
2025-08-04 12:47:23,146 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,176 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/117/Applications HTTP/1.1" 200 2
2025-08-04 12:47:23,179 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,212 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/117/Applications/6 HTTP/1.1" 201 285
2025-08-04 12:47:23,213 [INFO] ✅ ApplicationID 6 → ManagedAccountID 117 ataması başarılı.
2025-08-04 12:47:23,214 [INFO] ✅ Application 'oracle' başarıyla atandı (ID: 6).
2025-08-04 12:47:23,215 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,244 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/117/Applications HTTP/1.1" 200 287
2025-08-04 12:47:23,246 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,282 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/117/Applications/4 HTTP/1.1" 201 451
2025-08-04 12:47:23,282 [INFO] ✅ ApplicationID 4 → ManagedAccountID 117 ataması başarılı.
2025-08-04 12:47:23,284 [INFO] ✅ Application 'winscp' başarıyla atandı (ID: 4).
2025-08-04 12:47:23,284 [DEBUG] [Row 3] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_MISIR', 'description': 'E_MISIR', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10046, 'AccessLevelID': 3}]}
2025-08-04 12:47:23,284 [INFO] [Row 3] 🚀 Yeni user group oluşturuluyor: E_MISIR
2025-08-04 12:47:23,285 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,388 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-04 12:47:23,389 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 80, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_MISIR', 'DistinguishedName': None, 'Description': 'E_MISIR', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-04 12:47:23,389 [INFO] ✅ User group oluşturuldu: E_MISIR (ID: 80)
2025-08-04 12:47:23,391 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,445 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/80/SmartRules/10046/Roles HTTP/1.1" 204 0
2025-08-04 12:47:23,446 [INFO] [Row 3] ✅ SmartRule Role ataması başarılı → GroupID=80, RuleID=10046
2025-08-04 12:47:23,448 [DEBUG] [DEBUG] Row 3: ➡️ Girdi üyeleri: E_MISIR (Tip: <class 'str'>) → GroupID=80
2025-08-04 12:47:23,449 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_MISIR
2025-08-04 12:47:23,449 [DEBUG] [DEBUG] Row 3: 🧪 Normalize üyeler: ['e_misir']
2025-08-04 12:47:23,449 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,511 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 212
2025-08-04 12:47:23,511 [INFO] ✅ Kullanıcı oluşturuldu: e_misir (ID: 32)
2025-08-04 12:47:23,512 [INFO] ✅ Yeni kullanıcı cache'e eklendi: e_misir (ID: 32)
2025-08-04 12:47:23,514 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,553 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/32/UserGroups/80 HTTP/1.1" 201 270
2025-08-04 12:47:23,553 [INFO] ✅ Kullanıcı (ID: 32) gruba (ID: 80) başarıyla eklendi.
2025-08-04 12:47:23,554 [INFO] [Row 3] ➕ Kullanıcı (ID=32) gruba eklendi (GroupID=80)
2025-08-04 12:47:23,566 [INFO] Row 7: ✅ Zaten mevcut → None
2025-08-04 12:47:23,567 [INFO] [Row 3] ℹ️ Oracle atlandı: 'pam' ile başlamayan kullanıcı → admin
2025-08-04 12:47:23,579 [INFO] Row 8: ✅ Zaten mevcut → None
2025-08-04 12:47:23,579 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-04 12:47:23,579 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:23,580 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,655 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4523
2025-08-04 12:47:23,657 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-04 12:47:23,658 [INFO] [Row 4] ✅ AD managed account zaten var: pam100887
2025-08-04 12:47:23,658 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 208, AccountID: 115
2025-08-04 12:47:23,659 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,693 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/208/LinkedAccounts/115 HTTP/1.1" 200 1122
2025-08-04 12:47:23,694 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 208, AccountID: 115
2025-08-04 12:47:23,696 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-04 12:47:23,696 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-04 12:47:23,697 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,746 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 1124
2025-08-04 12:47:23,748 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,851 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 2247
2025-08-04 12:47:23,852 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[113, 115]
2025-08-04 12:47:23,853 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [113, 115]
2025-08-04 12:47:23,854 [INFO] 🚀 Application atama başlatıldı. (AccountID: 115)
2025-08-04 12:47:23,854 [INFO] [Row 4] ✅ User group zaten mevcut: E_PEKDAS
2025-08-04 12:47:23,854 [INFO] [Row 4] 🔍 UserGroupID: 76
2025-08-04 12:47:23,855 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,914 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/76/SmartRules/10043/Roles HTTP/1.1" 204 0
2025-08-04 12:47:23,914 [INFO] [Row 4] ✅ SmartRule Role ataması başarılı → GroupID=76, RuleID=10043
2025-08-04 12:47:23,916 [DEBUG] [DEBUG] Row 4: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=76
2025-08-04 12:47:23,916 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-04 12:47:23,916 [DEBUG] [DEBUG] Row 4: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-04 12:47:23,916 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 28
2025-08-04 12:47:23,917 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:23,943 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/28/UserGroups/76 HTTP/1.1" 201 272
2025-08-04 12:47:23,944 [INFO] ✅ Kullanıcı (ID: 28) gruba (ID: 76) başarıyla eklendi.
2025-08-04 12:47:23,945 [INFO] [Row 4] ➕ Kullanıcı (ID=28) gruba eklendi (GroupID=76)
2025-08-04 12:47:23,956 [INFO] Row 9: ✅ Zaten mevcut → None
2025-08-04 12:47:23,957 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-04 12:47:23,957 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-04 12:47:23,958 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,025 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4523
2025-08-04 12:47:24,026 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-04 12:47:24,027 [INFO] [Row 4] ✅ AD managed account zaten var: pam100888
2025-08-04 12:47:24,027 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 206, AccountID: 116
2025-08-04 12:47:24,028 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,080 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/206/LinkedAccounts/116 HTTP/1.1" 200 1123
2025-08-04 12:47:24,081 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 206, AccountID: 116
2025-08-04 12:47:24,082 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-04 12:47:24,082 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-04 12:47:24,083 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,163 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-04 12:47:24,166 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,259 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-04 12:47:24,260 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[116]
2025-08-04 12:47:24,261 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [116, 116]
2025-08-04 12:47:24,262 [INFO] 🚀 Application atama başlatıldı. (AccountID: 116)
2025-08-04 12:47:24,262 [INFO] [Row 4] ✅ User group zaten mevcut: E_YARDIMCI
2025-08-04 12:47:24,262 [INFO] [Row 4] 🔍 UserGroupID: 79
2025-08-04 12:47:24,263 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,316 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/79/SmartRules/10045/Roles HTTP/1.1" 204 0
2025-08-04 12:47:24,316 [INFO] [Row 4] ✅ SmartRule Role ataması başarılı → GroupID=79, RuleID=10045
2025-08-04 12:47:24,318 [DEBUG] [DEBUG] Row 4: ➡️ Girdi üyeleri: E_YARDIMCI (Tip: <class 'str'>) → GroupID=79
2025-08-04 12:47:24,318 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_YARDIMCI
2025-08-04 12:47:24,318 [DEBUG] [DEBUG] Row 4: 🧪 Normalize üyeler: ['e_yardimci']
2025-08-04 12:47:24,319 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_yardimci → ID: 31
2025-08-04 12:47:24,319 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,346 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/31/UserGroups/79 HTTP/1.1" 201 276
2025-08-04 12:47:24,346 [INFO] ✅ Kullanıcı (ID: 31) gruba (ID: 79) başarıyla eklendi.
2025-08-04 12:47:24,347 [INFO] [Row 4] ➕ Kullanıcı (ID=31) gruba eklendi (GroupID=79)
2025-08-04 12:47:24,407 [INFO] Row 10: ✅ Zaten mevcut → None
2025-08-04 12:47:24,408 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-04 12:47:24,408 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 209
2025-08-04 12:47:24,409 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,477 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/209/ManagedAccounts HTTP/1.1" 200 2205
2025-08-04 12:47:24,479 [INFO] [Row 5] ✅ Oracle managed account zaten var: PAM100545
2025-08-04 12:47:24,479 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-04 12:47:24,479 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-04 12:47:24,480 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,525 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 1103
2025-08-04 12:47:24,528 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,629 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 2205
2025-08-04 12:47:24,630 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[114, 117]
2025-08-04 12:47:24,631 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [114, 117]
2025-08-04 12:47:24,632 [INFO] 🚀 Application atama başlatıldı. (AccountID: 117)
2025-08-04 12:47:24,632 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,661 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/117/Applications HTTP/1.1" 200 739
2025-08-04 12:47:24,662 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-04 12:47:24,663 [INFO] [Row 5] ✅ User group zaten mevcut: S_OZCAN
2025-08-04 12:47:24,663 [INFO] [Row 5] 🔍 UserGroupID: 77
2025-08-04 12:47:24,664 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,716 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/77/SmartRules/10042/Roles HTTP/1.1" 204 0
2025-08-04 12:47:24,717 [INFO] [Row 5] ✅ SmartRule Role ataması başarılı → GroupID=77, RuleID=10042
2025-08-04 12:47:24,719 [DEBUG] [DEBUG] Row 5: ➡️ Girdi üyeleri: S_OZCAN (Tip: <class 'str'>) → GroupID=77
2025-08-04 12:47:24,719 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: S_OZCAN
2025-08-04 12:47:24,719 [DEBUG] [DEBUG] Row 5: 🧪 Normalize üyeler: ['s_ozcan']
2025-08-04 12:47:24,719 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: s_ozcan → ID: 29
2025-08-04 12:47:24,720 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,745 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/29/UserGroups/77 HTTP/1.1" 201 270
2025-08-04 12:47:24,746 [INFO] ✅ Kullanıcı (ID: 29) gruba (ID: 77) başarıyla eklendi.
2025-08-04 12:47:24,747 [INFO] [Row 5] ➕ Kullanıcı (ID=29) gruba eklendi (GroupID=77)
2025-08-04 12:47:24,762 [INFO] Row 11: ✅ Zaten mevcut → None
2025-08-04 12:47:24,763 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: pam100888
2025-08-04 12:47:24,763 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 209
2025-08-04 12:47:24,764 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,830 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/209/ManagedAccounts HTTP/1.1" 200 2205
2025-08-04 12:47:24,832 [INFO] [Row 5] ✅ Oracle managed account zaten var: pam100888
2025-08-04 12:47:24,833 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-04 12:47:24,833 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-04 12:47:24,833 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,877 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 2247
2025-08-04 12:47:24,880 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:24,985 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3349
2025-08-04 12:47:24,986 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[113, 115, 118]
2025-08-04 12:47:24,987 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [113, 115, 118]
2025-08-04 12:47:24,988 [INFO] 🚀 Application atama başlatıldı. (AccountID: 118)
2025-08-04 12:47:24,989 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:25,019 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/118/Applications HTTP/1.1" 200 2
2025-08-04 12:47:25,021 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:25,053 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/118/Applications/6 HTTP/1.1" 201 285
2025-08-04 12:47:25,053 [INFO] ✅ ApplicationID 6 → ManagedAccountID 118 ataması başarılı.
2025-08-04 12:47:25,054 [INFO] ✅ Application 'oracle' başarıyla atandı (ID: 6).
2025-08-04 12:47:25,055 [INFO] [Row 5] ✅ User group zaten mevcut: E_PEKDAS
2025-08-04 12:47:25,055 [INFO] [Row 5] 🔍 UserGroupID: 76
2025-08-04 12:47:25,056 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:25,124 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups/76/SmartRules/10043/Roles HTTP/1.1" 204 0
2025-08-04 12:47:25,124 [INFO] [Row 5] ✅ SmartRule Role ataması başarılı → GroupID=76, RuleID=10043
2025-08-04 12:47:25,126 [DEBUG] [DEBUG] Row 5: ➡️ Girdi üyeleri: E_PEKDAS (Tip: <class 'str'>) → GroupID=76
2025-08-04 12:47:25,126 [DEBUG] [DEBUG] Row -1: 🧪 parse_member_field() → Tip: <class 'str'>, Değer: E_PEKDAS
2025-08-04 12:47:25,126 [DEBUG] [DEBUG] Row 5: 🧪 Normalize üyeler: ['e_pekdas']
2025-08-04 12:47:25,126 [DEBUG] [DEBUG] Row -1: 🧪 Cache'te bulundu: e_pekdas → ID: 28
2025-08-04 12:47:25,127 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-04 12:47:25,153 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/28/UserGroups/76 HTTP/1.1" 201 272
2025-08-04 12:47:25,154 [INFO] ✅ Kullanıcı (ID: 28) gruba (ID: 76) başarıyla eklendi.
2025-08-04 12:47:25,155 [INFO] [Row 5] ➕ Kullanıcı (ID=28) gruba eklendi (GroupID=76)
