2025-08-03 15:26:46,987 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250803_152646.log
2025-08-03 15:26:46,987 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250803_152646.log
2025-08-03 15:26:46,988 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,083 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 9324
2025-08-03 15:26:47,084 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 15:26:47,085 [INFO] ✅ ManagedSystem cache yüklendi. (9 kayıt)
2025-08-03 15:26:47,086 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,175 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-03 15:26:47,176 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 15:26:47,177 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-03 15:26:47,178 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,218 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 10212
2025-08-03 15:26:47,219 [INFO] ✅ SmartRule cache yüklendi. (35 kayıt)
2025-08-03 15:26:47,220 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,243 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-03 15:26:47,244 [INFO] 📥 Application listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-03 15:26:47,245 [INFO] ✅ Application cache yüklendi. (4 kayıt)
2025-08-03 15:26:47,246 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,272 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 649
2025-08-03 15:26:47,273 [INFO] 📥 User group listesi API'den alındı ve cache'e yazıldı. (2 kayıt)
2025-08-03 15:26:47,274 [INFO] ✅ UserGroup cache yüklendi. (2 kayıt)
2025-08-03 15:26:47,285 [INFO] Row 1: ✅ Zaten mevcut → None
2025-08-03 15:26:47,285 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118064
2025-08-03 15:26:47,285 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:47,286 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,358 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:47,359 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:47,359 [INFO] [Row 1] ✅ AD managed account zaten var: pam118064
2025-08-03 15:26:47,359 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 185, AccountID: 105
2025-08-03 15:26:47,360 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,397 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/185/LinkedAccounts/105 HTTP/1.1" 200 1121
2025-08-03 15:26:47,397 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 185, AccountID: 105
2025-08-03 15:26:47,398 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:26:47,399 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:26:47,400 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,446 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:47,449 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,556 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:47,557 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:26:47,558 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 105]
2025-08-03 15:26:47,558 [INFO] 🚀 Application atama başlatıldı. (AccountID: 105)
2025-08-03 15:26:47,559 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,589 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/105/Applications HTTP/1.1" 200 901
2025-08-03 15:26:47,591 [INFO] ⚠️ Application 'winscp' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:47,592 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,621 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/105/Applications HTTP/1.1" 200 901
2025-08-03 15:26:47,622 [INFO] ⚠️ Application 'mssql' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:47,622 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': '{ PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }', 'SmartRuleAccess': [{'SmartRuleID': 10042, 'AccessLevelID': 3}]}
2025-08-03 15:26:47,622 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: S_OZCAN
2025-08-03 15:26:47,623 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,713 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-03 15:26:47,714 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 59, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'S_OZCAN', 'DistinguishedName': None, 'Description': 'S_OZCAN', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-03 15:26:47,714 [INFO] ✅ User group oluşturuldu: S_OZCAN (ID: 59)
2025-08-03 15:26:47,715 [INFO] Row 2: ✅ Zaten mevcut → None
2025-08-03 15:26:47,716 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-03 15:26:47,716 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:47,717 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,794 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:47,795 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:47,795 [INFO] [Row 1] ✅ AD managed account zaten var: pam118065
2025-08-03 15:26:47,796 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 106
2025-08-03 15:26:47,796 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,834 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/106 HTTP/1.1" 200 1121
2025-08-03 15:26:47,834 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 106
2025-08-03 15:26:47,835 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:26:47,835 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:26:47,836 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,881 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:47,883 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:47,982 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:47,982 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:26:47,983 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 106]
2025-08-03 15:26:47,984 [INFO] 🚀 Application atama başlatıldı. (AccountID: 106)
2025-08-03 15:26:47,984 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_PEKDAS', 'description': 'E_PEKDAS', 'isActive': True, 'Permissions': '{ PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }', 'SmartRuleAccess': [{'SmartRuleID': 10043, 'AccessLevelID': 3}]}
2025-08-03 15:26:47,984 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: E_PEKDAS
2025-08-03 15:26:47,985 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,082 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 272
2025-08-03 15:26:48,082 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 60, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_PEKDAS', 'DistinguishedName': None, 'Description': 'E_PEKDAS', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-03 15:26:48,083 [INFO] ✅ User group oluşturuldu: E_PEKDAS (ID: 60)
2025-08-03 15:26:48,083 [INFO] Row 3: ✅ Zaten mevcut → None
2025-08-03 15:26:48,084 [DEBUG] [Row 1] 🔍 MSSQL Managed Account işlemi başlatıldı. IP: 10.59.76.112, Username: pam118064
2025-08-03 15:26:48,084 [DEBUG] [Row 1] 🆔 Bulunan managed system ID: 187
2025-08-03 15:26:48,085 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,151 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/187/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:26:48,152 [INFO] [Row 1] ✅ MSSQL managed account zaten var: pam118064
2025-08-03 15:26:48,152 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:26:48,152 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:26:48,153 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,198 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:48,201 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,299 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:48,300 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:26:48,301 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 107]
2025-08-03 15:26:48,302 [INFO] 🚀 Application atama başlatıldı. (AccountID: 107)
2025-08-03 15:26:48,302 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,332 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/107/Applications HTTP/1.1" 200 449
2025-08-03 15:26:48,333 [INFO] ⚠️ Application 'mssql' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:48,334 [INFO] [Row 1] ✅ User group zaten mevcut: S_OZCAN
2025-08-03 15:26:48,334 [INFO] Row 4: ✅ Zaten mevcut → None
2025-08-03 15:26:48,334 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 15:26:48,334 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:48,335 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,400 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:48,401 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:48,401 [INFO] [Row 2] ✅ AD managed account zaten var: pam100887
2025-08-03 15:26:48,401 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 15:26:48,402 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,438 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 15:26:48,439 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 15:26:48,441 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-03 15:26:48,441 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_Y_UCUNCUOGLU (ID: 10044)
2025-08-03 15:26:48,442 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,495 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 15:26:48,497 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,593 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 15:26:48,593 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10044, AccountIDs=[108]
2025-08-03 15:26:48,594 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [108, 108]
2025-08-03 15:26:48,595 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 15:26:48,595 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'Y_UCUNCUOGLU', 'description': 'Y_UCUNCUOGLU', 'isActive': True, 'Permissions': '{ PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }', 'SmartRuleAccess': [{'SmartRuleID': 10044, 'AccessLevelID': 3}]}
2025-08-03 15:26:48,595 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: Y_UCUNCUOGLU
2025-08-03 15:26:48,596 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,686 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 280
2025-08-03 15:26:48,687 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 61, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'Y_UCUNCUOGLU', 'DistinguishedName': None, 'Description': 'Y_UCUNCUOGLU', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-03 15:26:48,687 [INFO] ✅ User group oluşturuldu: Y_UCUNCUOGLU (ID: 61)
2025-08-03 15:26:48,688 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-03 15:26:48,689 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 15:26:48,689 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:48,689 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,763 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:48,765 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:48,765 [INFO] [Row 2] ✅ AD managed account zaten var: pam100888
2025-08-03 15:26:48,765 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 15:26:48,766 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,799 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 15:26:48,799 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 15:26:48,801 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 15:26:48,801 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 15:26:48,801 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,848 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:26:48,850 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:48,948 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:26:48,949 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 15:26:48,950 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 15:26:48,950 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 15:26:48,950 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_YARDIMCI', 'description': 'E_YARDIMCI', 'isActive': True, 'Permissions': '{ PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }', 'SmartRuleAccess': [{'SmartRuleID': 10045, 'AccessLevelID': 3}]}
2025-08-03 15:26:48,951 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: E_YARDIMCI
2025-08-03 15:26:48,951 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,040 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 276
2025-08-03 15:26:49,040 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 62, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_YARDIMCI', 'DistinguishedName': None, 'Description': 'E_YARDIMCI', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-03 15:26:49,040 [INFO] ✅ User group oluşturuldu: E_YARDIMCI (ID: 62)
2025-08-03 15:26:49,041 [INFO] Row 6: ✅ Zaten mevcut → None
2025-08-03 15:26:49,042 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 15:26:49,042 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 189
2025-08-03 15:26:49,043 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,109 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:26:49,110 [INFO] [Row 3] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 15:26:49,111 [DEBUG] [Row 3] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_MISIR
2025-08-03 15:26:49,111 [INFO] [Row 3] ✅ Smart Rule zaten mevcut: THY_MA_E_MISIR (ID: 10046)
2025-08-03 15:26:49,111 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,160 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:26:49,163 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,259 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:26:49,259 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10046, AccountIDs=[110]
2025-08-03 15:26:49,260 [INFO] [Row 3] 📎 Smart Rule account listesi güncellendi: [110, 110]
2025-08-03 15:26:49,260 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 15:26:49,261 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,291 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:26:49,293 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:49,294 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,323 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:26:49,324 [INFO] ⚠️ Application 'winscp' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:49,325 [DEBUG] [Row 3] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_MISIR', 'description': 'E_MISIR', 'isActive': True, 'Permissions': '{ PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }', 'SmartRuleAccess': [{'SmartRuleID': 10046, 'AccessLevelID': 3}]}
2025-08-03 15:26:49,325 [INFO] [Row 3] 🚀 Yeni user group oluşturuluyor: E_MISIR
2025-08-03 15:26:49,325 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,416 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-03 15:26:49,417 [INFO] 🧪 [DEBUG] UserGroup API response: {'GroupID': 63, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'E_MISIR', 'DistinguishedName': None, 'Description': 'E_MISIR', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-03 15:26:49,417 [INFO] ✅ User group oluşturuldu: E_MISIR (ID: 63)
2025-08-03 15:26:49,418 [INFO] Row 7: ✅ Zaten mevcut → None
2025-08-03 15:26:49,419 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: admin
2025-08-03 15:26:49,419 [INFO] [Row 3] ℹ️ Atlandı: 'pam' ile başlamayan Oracle username: admin
2025-08-03 15:26:49,419 [INFO] Row 8: ✅ Zaten mevcut → None
2025-08-03 15:26:49,419 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 15:26:49,419 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:49,420 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,486 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:49,488 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:49,488 [INFO] [Row 4] ✅ AD managed account zaten var: pam100887
2025-08-03 15:26:49,488 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 15:26:49,489 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,522 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 15:26:49,522 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 15:26:49,523 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:26:49,524 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:26:49,525 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,571 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:49,573 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,683 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:49,683 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:26:49,684 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 108]
2025-08-03 15:26:49,684 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 15:26:49,685 [INFO] [Row 4] ✅ User group zaten mevcut: E_PEKDAS
2025-08-03 15:26:49,685 [INFO] Row 9: ✅ Zaten mevcut → None
2025-08-03 15:26:49,685 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 15:26:49,685 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:26:49,685 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,752 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:26:49,754 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:26:49,754 [INFO] [Row 4] ✅ AD managed account zaten var: pam100888
2025-08-03 15:26:49,754 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 15:26:49,755 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,788 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 15:26:49,789 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 15:26:49,790 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 15:26:49,790 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 15:26:49,791 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,838 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:26:49,841 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:49,942 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:26:49,943 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 15:26:49,944 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 15:26:49,945 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 15:26:49,945 [INFO] [Row 4] ✅ User group zaten mevcut: E_YARDIMCI
2025-08-03 15:26:49,945 [INFO] Row 10: ✅ Zaten mevcut → None
2025-08-03 15:26:49,945 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 15:26:49,945 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 15:26:49,946 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,024 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:26:50,025 [INFO] [Row 5] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 15:26:50,025 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:26:50,025 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:26:50,026 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,072 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:50,075 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,201 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:26:50,201 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:26:50,202 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 110]
2025-08-03 15:26:50,202 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 15:26:50,203 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,231 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:26:50,232 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:50,233 [INFO] [Row 5] ✅ User group zaten mevcut: S_OZCAN
2025-08-03 15:26:50,233 [INFO] Row 11: ✅ Zaten mevcut → None
2025-08-03 15:26:50,233 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: pam100888
2025-08-03 15:26:50,233 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 15:26:50,234 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,300 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:26:50,302 [INFO] [Row 5] ✅ Oracle managed account zaten var: pam100888
2025-08-03 15:26:50,302 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:26:50,302 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:26:50,303 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,351 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:50,354 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,452 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:26:50,453 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:26:50,454 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 111]
2025-08-03 15:26:50,455 [INFO] 🚀 Application atama başlatıldı. (AccountID: 111)
2025-08-03 15:26:50,455 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:26:50,486 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/111/Applications HTTP/1.1" 200 287
2025-08-03 15:26:50,487 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:26:50,488 [INFO] [Row 5] ✅ User group zaten mevcut: E_PEKDAS
