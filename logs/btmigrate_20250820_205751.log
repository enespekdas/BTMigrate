2025-08-20 20:57:51,486 [INFO] ğŸš€ Loglama baÅŸlatÄ±ldÄ±: logs/btmigrate_20250820_205751.log
2025-08-20 20:57:51,486 [INFO] ğŸš¨ Hatalar ayrÄ±ca burada: logs/btmigrate_error_20250820_205751.log
2025-08-20 20:57:51,488 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,585 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 4096
2025-08-20 20:57:51,585 [INFO] ğŸ“¥ Managed System listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (4 kayÄ±t)
2025-08-20 20:57:51,587 [INFO] âœ… ManagedSystem cache yÃ¼klendi. (4 kayÄ±t)
2025-08-20 20:57:51,588 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,691 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-20 20:57:51,692 [INFO] ğŸ“¥ FunctionalAccount listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (9 kayÄ±t)
2025-08-20 20:57:51,693 [INFO] âœ… FunctionalAccount cache yÃ¼klendi. (9 kayÄ±t)
2025-08-20 20:57:51,694 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,753 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 8869
2025-08-20 20:57:51,754 [INFO] âœ… SmartRule cache yÃ¼klendi. (30 kayÄ±t)
2025-08-20 20:57:51,756 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,794 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-20 20:57:51,794 [INFO] ğŸ“¥ Application listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (4 kayÄ±t)
2025-08-20 20:57:51,795 [INFO] âœ… Application cache yÃ¼klendi. (4 kayÄ±t)
2025-08-20 20:57:51,797 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,842 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 1622
2025-08-20 20:57:51,842 [INFO] ğŸ“¥ User group listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (5 kayÄ±t)
2025-08-20 20:57:51,843 [INFO] âœ… UserGroup cache yÃ¼klendi. (5 kayÄ±t)
2025-08-20 20:57:51,845 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:51,901 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Users HTTP/1.1" 200 2820
2025-08-20 20:57:51,902 [INFO] ğŸ“¥ User listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (8 kayÄ±t)
2025-08-20 20:57:51,903 [INFO] âœ… User cache yÃ¼klendi. (8 kayÄ±t)
2025-08-20 20:57:51,904 [INFO] ğŸ§¹ Var olan output dosyasÄ± silindi: data/btmigrate_output.xlsx
2025-08-20 20:57:51,915 [INFO] âœ… Output Excel dosyasÄ± oluÅŸturuldu: data/btmigrate_output.xlsx
2025-08-20 20:57:51,927 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'linux'
2025-08-20 20:57:51,928 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 5
2025-08-20 20:57:51,929 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,097 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1003
2025-08-20 20:57:52,098 [INFO] Row 1: Linux Managed System oluÅŸturuldu: None
2025-08-20 20:57:52,099 [INFO] Row 1: Managed System oluÅŸturuldu.
2025-08-20 20:57:52,100 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,190 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 2
2025-08-20 20:57:52,193 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,386 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1123
2025-08-20 20:57:52,386 [INFO] [ManagedAccountAPI] âœ… AD Managed Account oluÅŸturuldu: pam118064
2025-08-20 20:57:52,387 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:57:52,388 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,446 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/319/LinkedAccounts/181 HTTP/1.1" 201 1123
2025-08-20 20:57:52,447 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 319, AccountID: 181
2025-08-20 20:57:52,448 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:57:52,449 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,534 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/QuickRules HTTP/1.1" 201 265
2025-08-20 20:57:52,535 [INFO] [SmartRuleAPI] âœ… SmartRule oluÅŸturuldu: THY_MA_S_OZCAN
2025-08-20 20:57:52,537 [INFO] Row 1: Smart Rule oluÅŸturuldu: THY_MA_S_OZCAN
2025-08-20 20:57:52,538 [INFO] ğŸš€ Application atama baÅŸlatÄ±ldÄ±. (AccountID: 181)
2025-08-20 20:57:52,539 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,584 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/181/Applications HTTP/1.1" 200 2
2025-08-20 20:57:52,587 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,631 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/181/Applications/4 HTTP/1.1" 201 451
2025-08-20 20:57:52,632 [INFO] âœ… ApplicationID 4 â†’ ManagedAccountID 181 atamasÄ± baÅŸarÄ±lÄ±.
2025-08-20 20:57:52,633 [INFO] ğŸ“¦ App atama Ã¶zeti (AccountID:181) â†’ Ä°stenen:1, Atanan:1, Zaten:0, BulunamadÄ±:0, BaÅŸarÄ±sÄ±z:0
2025-08-20 20:57:52,634 [INFO] Row 1: TÃ¼m uygulamalar baÅŸarÄ±yla atandÄ± veya Ã¶nceden atanmÄ±ÅŸ.
2025-08-20 20:57:52,634 [DEBUG] [Row 1] ğŸ§± User group oluÅŸturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10105, 'AccessLevelID': 3}]}
2025-08-20 20:57:52,634 [INFO] [Row 1] ğŸš€ Yeni user group oluÅŸturuluyor: S_OZCAN
2025-08-20 20:57:52,636 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,743 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 271
2025-08-20 20:57:52,744 [INFO] ğŸ§ª [DEBUG] UserGroup API response: {'GroupID': 125, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'S_OZCAN', 'DistinguishedName': None, 'Description': 'S_OZCAN', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-20 20:57:52,744 [INFO] âœ… User group oluÅŸturuldu: S_OZCAN (ID: 125)
2025-08-20 20:57:52,746 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,793 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/125/SmartRules HTTP/1.1" 200 285
2025-08-20 20:57:52,795 [INFO] Row 1: User group oluÅŸturuldu ve SR/Role garanti altÄ±na alÄ±ndÄ±: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:57:52,795 [DEBUG] [DEBUG] Row 1: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=125
2025-08-20 20:57:52,795 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:57:52,796 [DEBUG] [DEBUG] Row 1: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:57:52,796 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,907 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 213
2025-08-20 20:57:52,908 [INFO] âœ… KullanÄ±cÄ± oluÅŸturuldu: s_ozcan (ID: 76)
2025-08-20 20:57:52,909 [INFO] âœ… Yeni kullanÄ±cÄ± cache'e eklendi: s_ozcan (ID: 76)
2025-08-20 20:57:52,910 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:52,962 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/76/UserGroups/125 HTTP/1.1" 201 271
2025-08-20 20:57:52,962 [INFO] âœ… KullanÄ±cÄ± (ID: 76) gruba (ID: 125) baÅŸarÄ±yla eklendi.
2025-08-20 20:57:52,963 [INFO] [Row 1] â• KullanÄ±cÄ± (ID=76) gruba eklendi (GroupID=125)
2025-08-20 20:57:52,964 [INFO] Row 1: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:57:52,975 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'windows'
2025-08-20 20:57:52,975 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 4
2025-08-20 20:57:52,976 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,118 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1008
2025-08-20 20:57:53,119 [INFO] Row 2: Managed System oluÅŸturuldu: None
2025-08-20 20:57:53,119 [INFO] Row 2: Managed System oluÅŸturuldu.
2025-08-20 20:57:53,121 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,202 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:53,203 [INFO] Row 1: AD managed account zaten var: pam118064
2025-08-20 20:57:53,205 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,309 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/320/LinkedAccounts/181 HTTP/1.1" 201 1123
2025-08-20 20:57:53,309 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 320, AccountID: 181
2025-08-20 20:57:53,310 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:57:53,312 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,401 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10105/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:53,402 [INFO] Row 2: Smart Rule zaten mevcut ve hesap baÄŸlÄ±: THY_MA_S_OZCAN
2025-08-20 20:57:53,403 [INFO] Row 2: Application alanÄ± boÅŸ/uygunsuz; atama yapÄ±lmayacak (AccountID:181).
2025-08-20 20:57:53,404 [INFO] [Row 2] âœ… User group zaten mevcut: S_OZCAN (ID: 125)
2025-08-20 20:57:53,404 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,450 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/125/SmartRules HTTP/1.1" 200 285
2025-08-20 20:57:53,451 [INFO] Row 2: User group mevcut ve SR/Role atamasÄ± tamam: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:57:53,452 [DEBUG] [DEBUG] Row 2: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=125
2025-08-20 20:57:53,452 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:57:53,452 [DEBUG] [DEBUG] Row 2: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:57:53,452 [DEBUG] [DEBUG] Row -1: ğŸ§ª Cache'te bulundu: s_ozcan â†’ ID: 76
2025-08-20 20:57:53,453 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,495 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/76/UserGroups/125 HTTP/1.1" 201 271
2025-08-20 20:57:53,495 [INFO] âœ… KullanÄ±cÄ± (ID: 76) gruba (ID: 125) baÅŸarÄ±yla eklendi.
2025-08-20 20:57:53,496 [INFO] [Row 2] â• KullanÄ±cÄ± (ID=76) gruba eklendi (GroupID=125)
2025-08-20 20:57:53,498 [INFO] Row 2: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:57:53,507 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'linux'
2025-08-20 20:57:53,507 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 5
2025-08-20 20:57:53,508 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,667 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1018
2025-08-20 20:57:53,668 [INFO] Row 3: Linux Managed System oluÅŸturuldu: None
2025-08-20 20:57:53,668 [INFO] Row 3: Managed System oluÅŸturuldu.
2025-08-20 20:57:53,670 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,750 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:53,752 [INFO] Row 1: AD managed account zaten var: pam118064
2025-08-20 20:57:53,753 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,813 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/321/LinkedAccounts/181 HTTP/1.1" 201 1123
2025-08-20 20:57:53,813 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 321, AccountID: 181
2025-08-20 20:57:53,814 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:57:53,816 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,875 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10105/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:53,876 [INFO] Row 3: Smart Rule zaten mevcut ve hesap baÄŸlÄ±: THY_MA_S_OZCAN
2025-08-20 20:57:53,877 [INFO] ğŸš€ Application atama baÅŸlatÄ±ldÄ±. (AccountID: 181)
2025-08-20 20:57:53,878 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:53,922 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/181/Applications HTTP/1.1" 200 453
2025-08-20 20:57:53,924 [INFO] â„¹ï¸ Application 'winscp' zaten atanmÄ±ÅŸ, atlama yapÄ±ldÄ±.
2025-08-20 20:57:53,924 [INFO] ğŸ“¦ App atama Ã¶zeti (AccountID:181) â†’ Ä°stenen:1, Atanan:0, Zaten:1, BulunamadÄ±:0, BaÅŸarÄ±sÄ±z:0
2025-08-20 20:57:53,924 [INFO] Row 3: TÃ¼m uygulamalar baÅŸarÄ±yla atandÄ± veya Ã¶nceden atanmÄ±ÅŸ.
2025-08-20 20:57:53,924 [INFO] [Row 3] âœ… User group zaten mevcut: S_OZCAN (ID: 125)
2025-08-20 20:57:53,925 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,038 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/125/SmartRules HTTP/1.1" 200 285
2025-08-20 20:57:54,039 [INFO] Row 3: User group mevcut ve SR/Role atamasÄ± tamam: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:57:54,040 [DEBUG] [DEBUG] Row 3: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=125
2025-08-20 20:57:54,040 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:57:54,040 [DEBUG] [DEBUG] Row 3: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:57:54,040 [DEBUG] [DEBUG] Row -1: ğŸ§ª Cache'te bulundu: s_ozcan â†’ ID: 76
2025-08-20 20:57:54,041 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,083 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/76/UserGroups/125 HTTP/1.1" 201 271
2025-08-20 20:57:54,084 [INFO] âœ… KullanÄ±cÄ± (ID: 76) gruba (ID: 125) baÅŸarÄ±yla eklendi.
2025-08-20 20:57:54,085 [INFO] [Row 3] â• KullanÄ±cÄ± (ID=76) gruba eklendi (GroupID=125)
2025-08-20 20:57:54,086 [INFO] Row 3: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:57:54,096 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'mssql'
2025-08-20 20:57:54,096 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 9
2025-08-20 20:57:54,097 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,257 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1128
2025-08-20 20:57:54,258 [INFO] Row 4: MSSQL Managed System oluÅŸturuldu: None
2025-08-20 20:57:54,258 [INFO] Row 4: Managed System oluÅŸturuldu.
2025-08-20 20:57:54,260 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,337 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:54,338 [INFO] Row 1: AD managed account zaten var: pam118064
2025-08-20 20:57:54,340 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,398 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/322/LinkedAccounts/181 HTTP/1.1" 201 1123
2025-08-20 20:57:54,398 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 322, AccountID: 181
2025-08-20 20:57:54,399 [INFO] Row 1: MSSQL managed account oluÅŸturuldu: pam118064
2025-08-20 20:57:54,401 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,458 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10105/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:54,460 [INFO] Row 4: Smart Rule zaten mevcut ve hesap baÄŸlÄ±: THY_MA_S_OZCAN
2025-08-20 20:57:54,462 [INFO] Row 4: Application alanÄ± boÅŸ/uygunsuz; atama yapÄ±lmayacak (AccountID:181).
2025-08-20 20:57:54,462 [INFO] [Row 4] âœ… User group zaten mevcut: S_OZCAN (ID: 125)
2025-08-20 20:57:54,463 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,513 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/125/SmartRules HTTP/1.1" 200 285
2025-08-20 20:57:54,515 [INFO] Row 4: User group mevcut ve SR/Role atamasÄ± tamam: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:57:54,516 [DEBUG] [DEBUG] Row 4: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=125
2025-08-20 20:57:54,517 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:57:54,517 [DEBUG] [DEBUG] Row 4: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:57:54,517 [DEBUG] [DEBUG] Row -1: ğŸ§ª Cache'te bulundu: s_ozcan â†’ ID: 76
2025-08-20 20:57:54,518 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,561 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/76/UserGroups/125 HTTP/1.1" 201 271
2025-08-20 20:57:54,562 [INFO] âœ… KullanÄ±cÄ± (ID: 76) gruba (ID: 125) baÅŸarÄ±yla eklendi.
2025-08-20 20:57:54,563 [INFO] [Row 4] â• KullanÄ±cÄ± (ID=76) gruba eklendi (GroupID=125)
2025-08-20 20:57:54,565 [INFO] Row 4: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:57:54,581 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'thynet.thy.com', OS: 'mssql'
2025-08-20 20:57:54,581 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 9
2025-08-20 20:57:54,582 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,764 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1128
2025-08-20 20:57:54,766 [INFO] Row 5: MSSQL Managed System oluÅŸturuldu: None
2025-08-20 20:57:54,767 [INFO] Row 5: Managed System oluÅŸturuldu.
2025-08-20 20:57:54,768 [ERROR] [MSSQLManagedAccount] Kod: 1 Message: [MSSQLManagedAccount] Kod: -423 Message: Domain controller bulunamadÄ±. Domain: thynet.thy.com
2025-08-20 20:57:54,768 [ERROR] [Dispatcher] Kod: 1 Message: [Dispatcher] Kod: -103 Message: MSSQL managed account oluÅŸturulamadÄ± (ID yok).
2025-08-20 20:57:54,782 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'windows'
2025-08-20 20:57:54,782 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 4
2025-08-20 20:57:54,783 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:54,923 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1008
2025-08-20 20:57:54,924 [INFO] Row 6: Managed System oluÅŸturuldu: None
2025-08-20 20:57:54,925 [INFO] Row 6: Managed System oluÅŸturuldu.
2025-08-20 20:57:54,926 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,005 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:57:55,007 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,153 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1122
2025-08-20 20:57:55,153 [INFO] [ManagedAccountAPI] âœ… AD Managed Account oluÅŸturuldu: pam100887
2025-08-20 20:57:55,154 [INFO] Row 2: AD managed account oluÅŸturuldu: pam100887
2025-08-20 20:57:55,156 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,217 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/324/LinkedAccounts/182 HTTP/1.1" 201 1122
2025-08-20 20:57:55,218 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 324, AccountID: 182
2025-08-20 20:57:55,219 [INFO] Row 2: AD managed account oluÅŸturuldu: pam100887
2025-08-20 20:57:55,221 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,299 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/QuickRules HTTP/1.1" 201 275
2025-08-20 20:57:55,300 [INFO] [SmartRuleAPI] âœ… SmartRule oluÅŸturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-20 20:57:55,301 [INFO] Row 6: Smart Rule oluÅŸturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-20 20:57:55,301 [INFO] Row 6: Application alanÄ± boÅŸ/uygunsuz; atama yapÄ±lmayacak (AccountID:182).
2025-08-20 20:57:55,302 [DEBUG] [Row 6] ğŸ§± User group oluÅŸturma payload: {'groupType': 'BeyondInsight', 'groupName': 'Y_UCUNCUOGLU', 'description': 'Y_UCUNCUOGLU', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10106, 'AccessLevelID': 3}]}
2025-08-20 20:57:55,302 [INFO] [Row 6] ğŸš€ Yeni user group oluÅŸturuluyor: Y_UCUNCUOGLU
2025-08-20 20:57:55,302 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,420 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 281
2025-08-20 20:57:55,421 [INFO] ğŸ§ª [DEBUG] UserGroup API response: {'GroupID': 126, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'Y_UCUNCUOGLU', 'DistinguishedName': None, 'Description': 'Y_UCUNCUOGLU', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-20 20:57:55,421 [INFO] âœ… User group oluÅŸturuldu: Y_UCUNCUOGLU (ID: 126)
2025-08-20 20:57:55,423 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:57:55,469 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/126/SmartRules HTTP/1.1" 200 295
2025-08-20 20:57:55,471 [INFO] Row 6: User group oluÅŸturuldu ve SR/Role garanti altÄ±na alÄ±ndÄ±: Y_UCUNCUOGLU (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:57:55,472 [DEBUG] [DEBUG] Row 6: â¡ï¸ Girdi Ã¼yeleri: nan (Tip: <class 'float'>) â†’ GroupID=126
2025-08-20 20:57:55,472 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'float'>, DeÄŸer: nan
2025-08-20 20:57:55,472 [DEBUG] [DEBUG] Row 6: ğŸ§ª Normalize Ã¼yeler: []
2025-08-20 20:57:55,472 [INFO] [Row 6] â„¹ï¸ User group'a eklenecek kullanÄ±cÄ± yok.
2025-08-20 20:57:55,486 [DEBUG] [FA Lookup] Aranan â†’ Domain: '', OS: 'linux'
2025-08-20 20:57:55,486 [DEBUG] [FA Lookup] Domain eÅŸleÅŸmedi. Sadece OS ('linux') ile fallback denenecek.
2025-08-20 20:57:55,486 [DEBUG] [FA Lookup] (Fallback) EÅŸleÅŸme bulunamadÄ±. Domain: '', OS: 'linux'
2025-08-20 20:57:55,486 [ERROR] [LinuxHandler] Kod: 7 Message: [LinuxHandler] Kod: -200 Message: Functional Account ID bulunamadÄ±.
2025-08-20 20:57:55,486 [ERROR] [Dispatcher] Kod: 7 Message: [Dispatcher] Kod: -101 Message: OluÅŸturma baÅŸarÄ±sÄ±z (ID dÃ¶nmedi).
2025-08-20 20:57:55,486 [ERROR] [ManagedAccountDispatcher] Kod: 2 Message: [ManagedAccountDispatcher] Kod: -199 Message: Dispatcher exception: 'float' object has no attribute 'lower'
