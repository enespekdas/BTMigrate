2025-08-20 20:50:43,017 [INFO] ğŸš€ Loglama baÅŸlatÄ±ldÄ±: logs/btmigrate_20250820_205043.log
2025-08-20 20:50:43,017 [INFO] ğŸš¨ Hatalar ayrÄ±ca burada: logs/btmigrate_error_20250820_205043.log
2025-08-20 20:50:43,030 [INFO] ğŸ“˜ PamEnvanter yÃ¼klendi: data/PamEnvanter.xlsx (Toplam 9 satÄ±r)
2025-08-20 20:50:43,086 [INFO] ğŸ“˜ OsEnvanter yÃ¼klendi: data/OsEnvanter.xlsx (Toplam 34 satÄ±r)
2025-08-20 20:50:43,100 [INFO] ğŸ“˜ PamSafeUser yÃ¼klendi: data/PamSafeUser.xlsx (Toplam 20 satÄ±r)
2025-08-20 20:50:43,106 [INFO] ğŸ“˜ MsSQLEnvanter yÃ¼klendi: data/MsSQLEnvanter.xlsx (Toplam 2 satÄ±r)
2025-08-20 20:50:53,137 [ERROR] Row 1: [Validation] Kod: -21 Message: IP adresi tespit edilemedi (OS envanter + nslookup baÅŸarÄ±sÄ±z). (remote=Server3)
2025-08-20 20:50:53,145 [ERROR] Row 2: [Validation] Kod: -22 Message: OS bilgisi bulunamadÄ±. (ip=10.58.59.106, hostname=Server6)
2025-08-20 20:51:03,189 [ERROR] Row 2: [Validation] Kod: -21 Message: IP ve hostname tespit edilemedi (OS envanter + nslookup baÅŸarÄ±sÄ±z). (remote=server10.thynet.thy.com)
2025-08-20 20:51:03,189 [ERROR] [PrepareValidation] Kod: -13 Message: RemoteMachines ve MsSQL alanlarÄ± boÅŸ. (row=3)
2025-08-20 20:51:03,189 [ERROR] [PrepareValidation] Kod: -13 Message: RemoteMachines ve MsSQL alanlarÄ± boÅŸ. (row=4)
2025-08-20 20:51:03,189 [ERROR] [PrepareValidation] Kod: -13 Message: RemoteMachines ve MsSQL alanlarÄ± boÅŸ. (row=5)
2025-08-20 20:51:03,189 [ERROR] Row 6: [Validation] Kod: -20 Message: pam ile baÅŸlamayan domain tipi kullanÄ±cÄ± (username=dam118065)
2025-08-20 20:51:03,190 [ERROR] [PrepareValidation] Kod: -11 Message: Username alanÄ± boÅŸ. (row=7)
2025-08-20 20:51:03,190 [ERROR] [PrepareValidation] Kod: -13 Message: RemoteMachines ve MsSQL alanlarÄ± boÅŸ. (row=8)
2025-08-20 20:51:03,190 [ERROR] [PrepareValidation] Kod: -13 Message: RemoteMachines ve MsSQL alanlarÄ± boÅŸ. (row=9)
2025-08-20 20:51:03,239 [INFO] âœ… Ã‡alÄ±ÅŸma Excel'i oluÅŸturuldu: data/btmigrate_work.xlsx
2025-08-20 20:51:03,240 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:03,534 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 4096
2025-08-20 20:51:03,534 [INFO] ğŸ“¥ Managed System listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (4 kayÄ±t)
2025-08-20 20:51:03,535 [INFO] âœ… ManagedSystem cache yÃ¼klendi. (4 kayÄ±t)
2025-08-20 20:51:03,537 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:03,800 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-20 20:51:03,801 [INFO] ğŸ“¥ FunctionalAccount listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (9 kayÄ±t)
2025-08-20 20:51:03,802 [INFO] âœ… FunctionalAccount cache yÃ¼klendi. (9 kayÄ±t)
2025-08-20 20:51:03,803 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:03,942 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 8876
2025-08-20 20:51:03,943 [INFO] âœ… SmartRule cache yÃ¼klendi. (30 kayÄ±t)
2025-08-20 20:51:03,944 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:04,008 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-20 20:51:04,008 [INFO] ğŸ“¥ Application listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (4 kayÄ±t)
2025-08-20 20:51:04,009 [INFO] âœ… Application cache yÃ¼klendi. (4 kayÄ±t)
2025-08-20 20:51:04,011 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:04,568 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 1622
2025-08-20 20:51:04,568 [INFO] ğŸ“¥ User group listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (5 kayÄ±t)
2025-08-20 20:51:04,569 [INFO] âœ… UserGroup cache yÃ¼klendi. (5 kayÄ±t)
2025-08-20 20:51:04,570 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:04,705 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Users HTTP/1.1" 200 2820
2025-08-20 20:51:04,705 [INFO] ğŸ“¥ User listesi API'den alÄ±ndÄ± ve cache'e yazÄ±ldÄ±. (8 kayÄ±t)
2025-08-20 20:51:04,706 [INFO] âœ… User cache yÃ¼klendi. (8 kayÄ±t)
2025-08-20 20:51:04,712 [INFO] âœ… Output Excel dosyasÄ± oluÅŸturuldu: data/btmigrate_output.xlsx
2025-08-20 20:51:04,719 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'linux'
2025-08-20 20:51:04,719 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 5
2025-08-20 20:51:04,720 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:05,490 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1003
2025-08-20 20:51:05,492 [INFO] Row 1: Linux Managed System oluÅŸturuldu: None
2025-08-20 20:51:05,492 [INFO] Row 1: Managed System oluÅŸturuldu.
2025-08-20 20:51:05,494 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:05,832 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 2
2025-08-20 20:51:05,835 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:06,741 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1123
2025-08-20 20:51:06,741 [INFO] [ManagedAccountAPI] âœ… AD Managed Account oluÅŸturuldu: pam118064
2025-08-20 20:51:06,742 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:51:06,743 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:06,837 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/307/LinkedAccounts/177 HTTP/1.1" 201 1123
2025-08-20 20:51:06,837 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 307, AccountID: 177
2025-08-20 20:51:06,838 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:51:06,839 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:07,159 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/QuickRules HTTP/1.1" 201 264
2025-08-20 20:51:07,159 [INFO] [SmartRuleAPI] âœ… SmartRule oluÅŸturuldu: THY_MA_S_OZCAN
2025-08-20 20:51:07,160 [INFO] Row 1: Smart Rule oluÅŸturuldu: THY_MA_S_OZCAN
2025-08-20 20:51:07,161 [INFO] ğŸš€ Application atama baÅŸlatÄ±ldÄ±. (AccountID: 177)
2025-08-20 20:51:07,162 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:07,215 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/177/Applications HTTP/1.1" 200 2
2025-08-20 20:51:07,217 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:07,290 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/177/Applications/4 HTTP/1.1" 201 451
2025-08-20 20:51:07,290 [INFO] âœ… ApplicationID 4 â†’ ManagedAccountID 177 atamasÄ± baÅŸarÄ±lÄ±.
2025-08-20 20:51:07,291 [INFO] ğŸ“¦ App atama Ã¶zeti (AccountID:177) â†’ Ä°stenen:1, Atanan:1, Zaten:0, BulunamadÄ±:0, BaÅŸarÄ±sÄ±z:0
2025-08-20 20:51:07,292 [INFO] Row 1: TÃ¼m uygulamalar baÅŸarÄ±yla atandÄ± veya Ã¶nceden atanmÄ±ÅŸ.
2025-08-20 20:51:07,292 [DEBUG] [Row 1] ğŸ§± User group oluÅŸturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10101, 'AccessLevelID': 3}]}
2025-08-20 20:51:07,292 [INFO] [Row 1] ğŸš€ Yeni user group oluÅŸturuluyor: S_OZCAN
2025-08-20 20:51:07,293 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:07,529 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 271
2025-08-20 20:51:07,530 [INFO] ğŸ§ª [DEBUG] UserGroup API response: {'GroupID': 122, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'S_OZCAN', 'DistinguishedName': None, 'Description': 'S_OZCAN', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-20 20:51:07,530 [INFO] âœ… User group oluÅŸturuldu: S_OZCAN (ID: 122)
2025-08-20 20:51:07,532 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:07,656 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/122/SmartRules HTTP/1.1" 200 284
2025-08-20 20:51:07,657 [INFO] Row 1: User group oluÅŸturuldu ve SR/Role garanti altÄ±na alÄ±ndÄ±: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:51:07,659 [DEBUG] [DEBUG] Row 1: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=122
2025-08-20 20:51:07,659 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:51:07,659 [DEBUG] [DEBUG] Row 1: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:51:07,659 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:23,970 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/ HTTP/1.1" 201 213
2025-08-20 20:51:23,971 [INFO] âœ… KullanÄ±cÄ± oluÅŸturuldu: s_ozcan (ID: 74)
2025-08-20 20:51:23,972 [INFO] âœ… Yeni kullanÄ±cÄ± cache'e eklendi: s_ozcan (ID: 74)
2025-08-20 20:51:23,973 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,192 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/74/UserGroups/122 HTTP/1.1" 201 271
2025-08-20 20:51:24,193 [INFO] âœ… KullanÄ±cÄ± (ID: 74) gruba (ID: 122) baÅŸarÄ±yla eklendi.
2025-08-20 20:51:24,194 [INFO] [Row 1] â• KullanÄ±cÄ± (ID=74) gruba eklendi (GroupID=122)
2025-08-20 20:51:24,195 [INFO] Row 1: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:51:24,206 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'windows'
2025-08-20 20:51:24,206 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 4
2025-08-20 20:51:24,207 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,401 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1008
2025-08-20 20:51:24,402 [INFO] Row 2: Managed System oluÅŸturuldu: None
2025-08-20 20:51:24,403 [INFO] Row 2: Managed System oluÅŸturuldu.
2025-08-20 20:51:24,405 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,528 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:51:24,529 [INFO] Row 1: AD managed account zaten var: pam118064
2025-08-20 20:51:24,530 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,590 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/308/LinkedAccounts/177 HTTP/1.1" 201 1123
2025-08-20 20:51:24,590 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 308, AccountID: 177
2025-08-20 20:51:24,591 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:51:24,593 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,712 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10101/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:51:24,713 [INFO] Row 2: Smart Rule zaten mevcut ve hesap baÄŸlÄ±: THY_MA_S_OZCAN
2025-08-20 20:51:24,715 [INFO] Row 2: Application alanÄ± boÅŸ/uygunsuz; atama yapÄ±lmayacak (AccountID:177).
2025-08-20 20:51:24,715 [INFO] [Row 2] âœ… User group zaten mevcut: S_OZCAN (ID: 122)
2025-08-20 20:51:24,716 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,765 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/122/SmartRules HTTP/1.1" 200 284
2025-08-20 20:51:24,766 [INFO] Row 2: User group mevcut ve SR/Role atamasÄ± tamam: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:51:24,767 [DEBUG] [DEBUG] Row 2: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=122
2025-08-20 20:51:24,768 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:51:24,768 [DEBUG] [DEBUG] Row 2: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:51:24,768 [DEBUG] [DEBUG] Row -1: ğŸ§ª Cache'te bulundu: s_ozcan â†’ ID: 74
2025-08-20 20:51:24,769 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:24,813 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/74/UserGroups/122 HTTP/1.1" 201 271
2025-08-20 20:51:24,813 [INFO] âœ… KullanÄ±cÄ± (ID: 74) gruba (ID: 122) baÅŸarÄ±yla eklendi.
2025-08-20 20:51:24,815 [INFO] [Row 2] â• KullanÄ±cÄ± (ID=74) gruba eklendi (GroupID=122)
2025-08-20 20:51:24,816 [INFO] Row 2: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:51:24,830 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'linux'
2025-08-20 20:51:24,830 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 5
2025-08-20 20:51:24,831 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,050 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1018
2025-08-20 20:51:25,052 [INFO] Row 3: Linux Managed System oluÅŸturuldu: None
2025-08-20 20:51:25,052 [INFO] Row 3: Managed System oluÅŸturuldu.
2025-08-20 20:51:25,053 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,115 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:51:25,116 [INFO] Row 1: AD managed account zaten var: pam118064
2025-08-20 20:51:25,117 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,178 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/309/LinkedAccounts/177 HTTP/1.1" 201 1123
2025-08-20 20:51:25,179 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 309, AccountID: 177
2025-08-20 20:51:25,180 [INFO] Row 1: AD managed account oluÅŸturuldu: pam118064
2025-08-20 20:51:25,182 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,243 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10101/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:51:25,245 [INFO] Row 3: Smart Rule zaten mevcut ve hesap baÄŸlÄ±: THY_MA_S_OZCAN
2025-08-20 20:51:25,246 [INFO] ğŸš€ Application atama baÅŸlatÄ±ldÄ±. (AccountID: 177)
2025-08-20 20:51:25,247 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,296 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/177/Applications HTTP/1.1" 200 453
2025-08-20 20:51:25,298 [INFO] â„¹ï¸ Application 'winscp' zaten atanmÄ±ÅŸ, atlama yapÄ±ldÄ±.
2025-08-20 20:51:25,298 [INFO] ğŸ“¦ App atama Ã¶zeti (AccountID:177) â†’ Ä°stenen:1, Atanan:0, Zaten:1, BulunamadÄ±:0, BaÅŸarÄ±sÄ±z:0
2025-08-20 20:51:25,298 [INFO] Row 3: TÃ¼m uygulamalar baÅŸarÄ±yla atandÄ± veya Ã¶nceden atanmÄ±ÅŸ.
2025-08-20 20:51:25,299 [INFO] [Row 3] âœ… User group zaten mevcut: S_OZCAN (ID: 122)
2025-08-20 20:51:25,299 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,349 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/122/SmartRules HTTP/1.1" 200 284
2025-08-20 20:51:25,350 [INFO] Row 3: User group mevcut ve SR/Role atamasÄ± tamam: S_OZCAN (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:51:25,351 [DEBUG] [DEBUG] Row 3: â¡ï¸ Girdi Ã¼yeleri: S_OZCAN (Tip: <class 'str'>) â†’ GroupID=122
2025-08-20 20:51:25,351 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'str'>, DeÄŸer: S_OZCAN
2025-08-20 20:51:25,351 [DEBUG] [DEBUG] Row 3: ğŸ§ª Normalize Ã¼yeler: ['s_ozcan']
2025-08-20 20:51:25,351 [DEBUG] [DEBUG] Row -1: ğŸ§ª Cache'te bulundu: s_ozcan â†’ ID: 74
2025-08-20 20:51:25,352 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,394 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Users/74/UserGroups/122 HTTP/1.1" 201 271
2025-08-20 20:51:25,394 [INFO] âœ… KullanÄ±cÄ± (ID: 74) gruba (ID: 122) baÅŸarÄ±yla eklendi.
2025-08-20 20:51:25,396 [INFO] [Row 3] â• KullanÄ±cÄ± (ID=74) gruba eklendi (GroupID=122)
2025-08-20 20:51:25,397 [INFO] Row 3: 1 kullanÄ±cÄ± iÅŸlendi, tamamÄ± gruba eklendi.
2025-08-20 20:51:25,407 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'thynet.thy.com', OS: 'mssql'
2025-08-20 20:51:25,408 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 9
2025-08-20 20:51:25,408 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:25,813 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1128
2025-08-20 20:51:25,814 [INFO] Row 4: MSSQL Managed System oluÅŸturuldu: None
2025-08-20 20:51:25,815 [INFO] Row 4: Managed System oluÅŸturuldu.
2025-08-20 20:51:25,815 [ERROR] [MSSQLManagedAccount] Kod: 1 Message: [MSSQLManagedAccount] Kod: -423 Message: Domain controller bulunamadÄ±. Domain: thynet.thy.com
2025-08-20 20:51:25,816 [ERROR] [Dispatcher] Kod: 1 Message: [Dispatcher] Kod: -103 Message: MSSQL managed account oluÅŸturulamadÄ± (ID yok).
2025-08-20 20:51:25,828 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'thynet.thy.com', OS: 'mssql'
2025-08-20 20:51:25,828 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 9
2025-08-20 20:51:25,829 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,038 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1128
2025-08-20 20:51:26,039 [INFO] Row 5: MSSQL Managed System oluÅŸturuldu: None
2025-08-20 20:51:26,039 [INFO] Row 5: Managed System oluÅŸturuldu.
2025-08-20 20:51:26,040 [ERROR] [MSSQLManagedAccount] Kod: 1 Message: [MSSQLManagedAccount] Kod: -423 Message: Domain controller bulunamadÄ±. Domain: thynet.thy.com
2025-08-20 20:51:26,040 [ERROR] [Dispatcher] Kod: 1 Message: [Dispatcher] Kod: -103 Message: MSSQL managed account oluÅŸturulamadÄ± (ID yok).
2025-08-20 20:51:26,054 [DEBUG] [FA Lookup] Aranan â†’ Domain: 'quasys.local', OS: 'windows'
2025-08-20 20:51:26,054 [DEBUG] [FA Lookup] EÅŸleÅŸen FA bulundu â†’ ID: 4
2025-08-20 20:51:26,055 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,214 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1008
2025-08-20 20:51:26,215 [INFO] Row 6: Managed System oluÅŸturuldu: None
2025-08-20 20:51:26,216 [INFO] Row 6: Managed System oluÅŸturuldu.
2025-08-20 20:51:26,218 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,306 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1125
2025-08-20 20:51:26,309 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,458 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1123
2025-08-20 20:51:26,458 [INFO] [ManagedAccountAPI] âœ… AD Managed Account oluÅŸturuldu: pam100887
2025-08-20 20:51:26,459 [INFO] Row 2: AD managed account oluÅŸturuldu: pam100887
2025-08-20 20:51:26,460 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,517 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/312/LinkedAccounts/178 HTTP/1.1" 201 1123
2025-08-20 20:51:26,518 [INFO] [ManagedAccountAPI] ğŸ”— Linkleme baÅŸarÄ±lÄ± â†’ SystemID: 312, AccountID: 178
2025-08-20 20:51:26,519 [INFO] Row 2: AD managed account oluÅŸturuldu: pam100887
2025-08-20 20:51:26,521 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,644 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/QuickRules HTTP/1.1" 201 275
2025-08-20 20:51:26,645 [INFO] [SmartRuleAPI] âœ… SmartRule oluÅŸturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-20 20:51:26,646 [INFO] Row 6: Smart Rule oluÅŸturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-20 20:51:26,647 [INFO] Row 6: Application alanÄ± boÅŸ/uygunsuz; atama yapÄ±lmayacak (AccountID:178).
2025-08-20 20:51:26,647 [DEBUG] [Row 6] ğŸ§± User group oluÅŸturma payload: {'groupType': 'BeyondInsight', 'groupName': 'Y_UCUNCUOGLU', 'description': 'Y_UCUNCUOGLU', 'isActive': True, 'Permissions': [{'PermissionID': 52, 'AccessLevelID': 1}, {'PermissionID': 76, 'AccessLevelID': 3}, {'PermissionID': 77, 'AccessLevelID': 1}], 'SmartRuleAccess': [{'SmartRuleID': 10102, 'AccessLevelID': 3}]}
2025-08-20 20:51:26,647 [INFO] [Row 6] ğŸš€ Yeni user group oluÅŸturuluyor: Y_UCUNCUOGLU
2025-08-20 20:51:26,648 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,762 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 281
2025-08-20 20:51:26,762 [INFO] ğŸ§ª [DEBUG] UserGroup API response: {'GroupID': 123, 'GroupType': 'BeyondInsight', 'IsActive': True, 'Name': 'Y_UCUNCUOGLU', 'DistinguishedName': None, 'Description': 'Y_UCUNCUOGLU', 'ExcludedFromGlobalSync': False, 'OverrideGlobalSyncSettings': False, 'MembershipAttribute': None, 'AccountAttribute': None, 'BaseDistinguishedName': None}
2025-08-20 20:51:26,762 [INFO] âœ… User group oluÅŸturuldu: Y_UCUNCUOGLU (ID: 123)
2025-08-20 20:51:26,764 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-20 20:51:26,814 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups/123/SmartRules HTTP/1.1" 200 295
2025-08-20 20:51:26,815 [INFO] Row 6: User group oluÅŸturuldu ve SR/Role garanti altÄ±na alÄ±ndÄ±: Y_UCUNCUOGLU (SR/Role zaten atanmÄ±ÅŸ)
2025-08-20 20:51:26,817 [DEBUG] [DEBUG] Row 6: â¡ï¸ Girdi Ã¼yeleri: nan (Tip: <class 'float'>) â†’ GroupID=123
2025-08-20 20:51:26,817 [DEBUG] [DEBUG] Row -1: ğŸ§ª parse_member_field() â†’ Tip: <class 'float'>, DeÄŸer: nan
2025-08-20 20:51:26,817 [DEBUG] [DEBUG] Row 6: ğŸ§ª Normalize Ã¼yeler: []
2025-08-20 20:51:26,817 [INFO] [Row 6] â„¹ï¸ User group'a eklenecek kullanÄ±cÄ± yok.
2025-08-20 20:51:26,830 [DEBUG] [FA Lookup] Aranan â†’ Domain: '', OS: 'linux'
2025-08-20 20:51:26,830 [DEBUG] [FA Lookup] Domain eÅŸleÅŸmedi. Sadece OS ('linux') ile fallback denenecek.
2025-08-20 20:51:26,830 [DEBUG] [FA Lookup] (Fallback) EÅŸleÅŸme bulunamadÄ±. Domain: '', OS: 'linux'
2025-08-20 20:51:26,830 [ERROR] [LinuxHandler] Kod: 7 Message: [LinuxHandler] Kod: -200 Message: Functional Account ID bulunamadÄ±.
2025-08-20 20:51:26,830 [ERROR] [Dispatcher] Kod: 7 Message: [Dispatcher] Kod: -101 Message: OluÅŸturma baÅŸarÄ±sÄ±z (ID dÃ¶nmedi).
2025-08-20 20:51:26,830 [ERROR] [ManagedAccountDispatcher] Kod: 2 Message: [ManagedAccountDispatcher] Kod: -199 Message: Dispatcher exception: 'float' object has no attribute 'lower'
