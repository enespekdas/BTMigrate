2025-08-01 18:54:03,436 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250801_185403.log
2025-08-01 18:54:03,436 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250801_185403.log
2025-08-01 18:54:03,437 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:03,540 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 4096
2025-08-01 18:54:03,540 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-01 18:54:03,541 [INFO] ✅ ManagedSystem cache yüklendi. (4 kayıt)
2025-08-01 18:54:03,542 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:03,631 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-01 18:54:03,631 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-01 18:54:03,633 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-01 18:54:03,640 [DEBUG] [FA Lookup] Gelen domain: quasys.com, OS: linux
2025-08-01 18:54:03,640 [DEBUG] [FA Lookup] Eşleşen FA ID: 7
2025-08-01 18:54:03,641 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:03,788 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1006
2025-08-01 18:54:03,789 [INFO] Row 1: ✅ Linux Managed System oluşturuldu: None
2025-08-01 18:54:03,790 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.com, Username: pam118064
2025-08-01 18:54:03,790 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 5 kayıt
2025-08-01 18:54:03,790 [ERROR] [ADManagedAccount] Kod: 1 Message: ❌ Domain controller bulunamadı. Domain: quasys.com
2025-08-01 18:54:03,790 [DEBUG] [FA Lookup] Gelen domain: quasys.local, OS: windows
2025-08-01 18:54:03,790 [DEBUG] [FA Lookup] Eşleşen FA ID: 4
2025-08-01 18:54:03,790 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:03,919 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1011
2025-08-01 18:54:03,920 [INFO] Row 2: ✅ Managed System oluşturuldu: None
2025-08-01 18:54:03,921 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-01 18:54:03,921 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 6 kayıt
2025-08-01 18:54:03,921 [DEBUG] [Row 1] 🔍 Bulunan domain controller: {'ManagedSystemID': 2, 'EntityTypeID': 3, 'AssetID': None, 'DatabaseID': None, 'DirectoryID': 1, 'CloudID': None, 'WorkgroupID': 2, 'HostName': 'quasys.local', 'DnsName': None, 'IPAddress': None, 'InstanceName': None, 'IsDefaultInstance': None, 'Template': None, 'ForestName': None, 'UseSSL': False, 'OracleInternetDirectoryID': None, 'OracleInternetDirectoryServiceName': None, 'SystemName': 'quasys.local', 'PlatformID': 25, 'NetBiosName': None, 'Port': 389, 'Timeout': 30, 'Description': None, 'ContactEmail': None, 'PasswordRuleID': 0, 'DSSKeyRuleID': 0, 'ReleaseDuration': 120, 'MaxReleaseDuration': 10079, 'ISAReleaseDuration': 120, 'AutoManagementFlag': True, 'FunctionalAccountID': 1, 'LoginAccountID': None, 'ElevationCommand': None, 'SshKeyEnforcementMode': 0, 'CheckPasswordFlag': False, 'ChangePasswordAfterAnyReleaseFlag': False, 'ResetPasswordOnMismatchFlag': False, 'ChangeFrequencyType': 'first', 'ChangeFrequencyDays': 30, 'ChangeTime': '23:30', 'AccountNameFormat': 0, 'RemoteClientType': 'None', 'ApplicationHostID': None, 'IsApplicationHost': False, 'AccessURL': None}
2025-08-01 18:54:03,921 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:03,986 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 2
2025-08-01 18:54:03,987 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 0
2025-08-01 18:54:03,988 [DEBUG] [Row 1] 📦 Payload hazırlandı: {'DomainName': 'quasys.local', 'AccountName': 'pam118065', 'DistinguishedName': 'None', 'PasswordRuleID': 0, 'Password': 'QWEQWEQWE', 'WorkgroupID': 2, 'ObjectID': 'None', 'UserPrincipalName': 'pam118065', 'SAMAccountName': 'pam118065'}
2025-08-01 18:54:03,988 [INFO] [Row 1] 🚀 AD managed account oluşturuluyor: pam118065
2025-08-01 18:54:03,989 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,124 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1122
2025-08-01 18:54:04,124 [INFO] [ManagedAccountAPI] ✅ AD Managed Account oluşturuldu: pam118065
2025-08-01 18:54:04,125 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 181, AccountID: 78
2025-08-01 18:54:04,127 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,166 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/181/LinkedAccounts/78 HTTP/1.1" 201 1122
2025-08-01 18:54:04,166 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 181, AccountID: 78
2025-08-01 18:54:04,168 [DEBUG] [FA Lookup] Gelen domain: quasys.local, OS: mssql
2025-08-01 18:54:04,168 [DEBUG] [FA Lookup] Eşleşen FA ID: 9
2025-08-01 18:54:04,168 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,288 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1123
2025-08-01 18:54:04,289 [INFO] Row 3: ✅ MSSQL Managed System oluşturuldu: None
2025-08-01 18:54:04,289 [INFO] [Row 1] ℹ️ Atlandı: Şu an için desteklenmeyen managed account tipi. type='mssql', username='pam118064'
2025-08-01 18:54:04,289 [DEBUG] [FA Lookup] Gelen domain: quasys.local, OS: windows
2025-08-01 18:54:04,289 [DEBUG] [FA Lookup] Eşleşen FA ID: 4
2025-08-01 18:54:04,290 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,419 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1011
2025-08-01 18:54:04,422 [INFO] Row 4: ✅ Managed System oluşturuldu: None
2025-08-01 18:54:04,422 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-01 18:54:04,422 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 8 kayıt
2025-08-01 18:54:04,422 [DEBUG] [Row 2] 🔍 Bulunan domain controller: {'ManagedSystemID': 2, 'EntityTypeID': 3, 'AssetID': None, 'DatabaseID': None, 'DirectoryID': 1, 'CloudID': None, 'WorkgroupID': 2, 'HostName': 'quasys.local', 'DnsName': None, 'IPAddress': None, 'InstanceName': None, 'IsDefaultInstance': None, 'Template': None, 'ForestName': None, 'UseSSL': False, 'OracleInternetDirectoryID': None, 'OracleInternetDirectoryServiceName': None, 'SystemName': 'quasys.local', 'PlatformID': 25, 'NetBiosName': None, 'Port': 389, 'Timeout': 30, 'Description': None, 'ContactEmail': None, 'PasswordRuleID': 0, 'DSSKeyRuleID': 0, 'ReleaseDuration': 120, 'MaxReleaseDuration': 10079, 'ISAReleaseDuration': 120, 'AutoManagementFlag': True, 'FunctionalAccountID': 1, 'LoginAccountID': None, 'ElevationCommand': None, 'SshKeyEnforcementMode': 0, 'CheckPasswordFlag': False, 'ChangePasswordAfterAnyReleaseFlag': False, 'ResetPasswordOnMismatchFlag': False, 'ChangeFrequencyType': 'first', 'ChangeFrequencyDays': 30, 'ChangeTime': '23:30', 'AccountNameFormat': 0, 'RemoteClientType': 'None', 'ApplicationHostID': None, 'IsApplicationHost': False, 'AccessURL': None}
2025-08-01 18:54:04,423 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,487 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 1124
2025-08-01 18:54:04,488 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 1
2025-08-01 18:54:04,489 [DEBUG] [Row 2] 📦 Payload hazırlandı: {'DomainName': 'quasys.local', 'AccountName': 'pam100887', 'DistinguishedName': 'None', 'PasswordRuleID': 0, 'Password': 'QWEQWEQWE', 'WorkgroupID': 2, 'ObjectID': 'None', 'UserPrincipalName': 'pam100887', 'SAMAccountName': 'pam100887'}
2025-08-01 18:54:04,489 [INFO] [Row 2] 🚀 AD managed account oluşturuluyor: pam100887
2025-08-01 18:54:04,489 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,635 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1122
2025-08-01 18:54:04,636 [INFO] [ManagedAccountAPI] ✅ AD Managed Account oluşturuldu: pam100887
2025-08-01 18:54:04,637 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 183, AccountID: 79
2025-08-01 18:54:04,637 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,679 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/183/LinkedAccounts/79 HTTP/1.1" 201 1122
2025-08-01 18:54:04,679 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 183, AccountID: 79
2025-08-01 18:54:04,680 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-01 18:54:04,681 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-01 18:54:04,681 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 8 kayıt
2025-08-01 18:54:04,681 [DEBUG] [Row 2] 🔍 Bulunan domain controller: {'ManagedSystemID': 2, 'EntityTypeID': 3, 'AssetID': None, 'DatabaseID': None, 'DirectoryID': 1, 'CloudID': None, 'WorkgroupID': 2, 'HostName': 'quasys.local', 'DnsName': None, 'IPAddress': None, 'InstanceName': None, 'IsDefaultInstance': None, 'Template': None, 'ForestName': None, 'UseSSL': False, 'OracleInternetDirectoryID': None, 'OracleInternetDirectoryServiceName': None, 'SystemName': 'quasys.local', 'PlatformID': 25, 'NetBiosName': None, 'Port': 389, 'Timeout': 30, 'Description': None, 'ContactEmail': None, 'PasswordRuleID': 0, 'DSSKeyRuleID': 0, 'ReleaseDuration': 120, 'MaxReleaseDuration': 10079, 'ISAReleaseDuration': 120, 'AutoManagementFlag': True, 'FunctionalAccountID': 1, 'LoginAccountID': None, 'ElevationCommand': None, 'SshKeyEnforcementMode': 0, 'CheckPasswordFlag': False, 'ChangePasswordAfterAnyReleaseFlag': False, 'ResetPasswordOnMismatchFlag': False, 'ChangeFrequencyType': 'first', 'ChangeFrequencyDays': 30, 'ChangeTime': '23:30', 'AccountNameFormat': 0, 'RemoteClientType': 'None', 'ApplicationHostID': None, 'IsApplicationHost': False, 'AccessURL': None}
2025-08-01 18:54:04,682 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,745 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 2247
2025-08-01 18:54:04,746 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 2
2025-08-01 18:54:04,746 [DEBUG] [Row 2] 📦 Payload hazırlandı: {'DomainName': 'quasys.local', 'AccountName': 'pam100888', 'DistinguishedName': 'None', 'PasswordRuleID': 0, 'Password': 'QWEQWEQWE', 'WorkgroupID': 2, 'ObjectID': 'None', 'UserPrincipalName': 'pam100888', 'SAMAccountName': 'pam100888'}
2025-08-01 18:54:04,746 [INFO] [Row 2] 🚀 AD managed account oluşturuluyor: pam100888
2025-08-01 18:54:04,747 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,879 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1122
2025-08-01 18:54:04,879 [INFO] [ManagedAccountAPI] ✅ AD Managed Account oluşturuldu: pam100888
2025-08-01 18:54:04,880 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 181, AccountID: 80
2025-08-01 18:54:04,882 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:04,932 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/181/LinkedAccounts/80 HTTP/1.1" 201 1122
2025-08-01 18:54:04,933 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 181, AccountID: 80
2025-08-01 18:54:04,934 [DEBUG] [FA Lookup] Gelen domain: , OS: oracle
2025-08-01 18:54:04,934 [DEBUG] [FA Lookup] Eşleşen FA ID: 8
2025-08-01 18:54:04,935 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:05,064 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/Workgroups/2/ManagedSystems HTTP/1.1" 201 1072
2025-08-01 18:54:05,065 [INFO] Row 6: ✅ Oracle Managed System oluşturuldu: None
2025-08-01 18:54:05,066 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-01 18:54:05,066 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 184
2025-08-01 18:54:05,066 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:05,180 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/184/ManagedAccounts HTTP/1.1" 200 2
2025-08-01 18:54:05,181 [DEBUG] [Row 3] 📦 Payload hazırlandı: {'AccountName': 'PAM100545', 'Password': 'QWEQWEQWE', 'PasswordRuleID': 0, 'WorkgroupID': 2, 'Port': 1453, 'UseOwnCredentials': True, 'AutoManagementFlag': False}
2025-08-01 18:54:05,181 [INFO] [Row 3] 🚀 Oracle managed account oluşturuluyor: PAM100545
2025-08-01 18:54:05,182 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 18:54:05,311 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/184/ManagedAccounts HTTP/1.1" 201 1100
2025-08-01 18:54:05,312 [INFO] ✅ Oracle Managed Account oluşturuldu: PAM100545
