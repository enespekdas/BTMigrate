2025-08-01 21:36:37,179 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250801_213637.log
2025-08-01 21:36:37,180 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250801_213637.log
2025-08-01 21:36:37,181 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,257 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 9324
2025-08-01 21:36:37,258 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-01 21:36:37,258 [INFO] ✅ ManagedSystem cache yüklendi. (9 kayıt)
2025-08-01 21:36:37,259 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,351 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-01 21:36:37,351 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-01 21:36:37,352 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-01 21:36:37,353 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,393 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 10224
2025-08-01 21:36:37,394 [INFO] ✅ SmartRule cache yüklendi. (35 kayıt)
2025-08-01 21:36:37,395 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,418 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-01 21:36:37,418 [INFO] 📥 Application listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-01 21:36:37,419 [INFO] ✅ Application cache yüklendi. (4 kayıt)
2025-08-01 21:36:37,427 [INFO] Row 1: ✅ Zaten mevcut → None
2025-08-01 21:36:37,427 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118064
2025-08-01 21:36:37,427 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:37,427 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,492 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 3369
2025-08-01 21:36:37,493 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 3
2025-08-01 21:36:37,493 [DEBUG] [Row 1] 📦 Payload hazırlandı: {'DomainName': 'quasys.local', 'AccountName': 'pam118064', 'DistinguishedName': 'None', 'PasswordRuleID': 0, 'Password': 'QWEQWEQWE', 'WorkgroupID': 2, 'ObjectID': 'None', 'UserPrincipalName': 'pam118064', 'SAMAccountName': 'pam118064'}
2025-08-01 21:36:37,493 [INFO] [Row 1] 🚀 AD managed account oluşturuluyor: pam118064
2025-08-01 21:36:37,494 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,614 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 201 1122
2025-08-01 21:36:37,614 [INFO] [ManagedAccountAPI] ✅ AD Managed Account oluşturuldu: pam118064
2025-08-01 21:36:37,615 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 180, AccountID: 97
2025-08-01 21:36:37,616 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,665 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/180/LinkedAccounts/97 HTTP/1.1" 201 1122
2025-08-01 21:36:37,666 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 180, AccountID: 97
2025-08-01 21:36:37,667 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-01 21:36:37,667 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10038)
2025-08-01 21:36:37,668 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,712 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 2202
2025-08-01 21:36:37,715 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,826 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 3325
2025-08-01 21:36:37,826 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10038, AccountIDs=[97, 92, 95]
2025-08-01 21:36:37,827 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [92, 95, 97]
2025-08-01 21:36:37,827 [INFO] 🚀 Application atama başlatıldı. (AccountID: 97)
2025-08-01 21:36:37,827 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 97, Raw: winscp,mssql
2025-08-01 21:36:37,827 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: ['winscp', 'mssql']
2025-08-01 21:36:37,827 [INFO] 🧪 [DEBUG] Cache'te 4 application var.
2025-08-01 21:36:37,827 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:37,827 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:37,828 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='winscp' (AppID: 4)
2025-08-01 21:36:37,828 [INFO] 🔁 Application eşleşti: 'winscp' → ID: 4
2025-08-01 21:36:37,828 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,863 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/97/Applications HTTP/1.1" 200 2
2025-08-01 21:36:37,865 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,896 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/97/Applications/4 HTTP/1.1" 201 451
2025-08-01 21:36:37,897 [INFO] ✅ ApplicationID 4 → ManagedAccountID 97 ataması başarılı.
2025-08-01 21:36:37,898 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='mssql' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:37,898 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='mssql' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:37,898 [INFO] 🔁 Application eşleşti: 'mssql' → ID: 3
2025-08-01 21:36:37,899 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,923 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/97/Applications HTTP/1.1" 200 453
2025-08-01 21:36:37,925 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:37,954 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedAccounts/97/Applications/3 HTTP/1.1" 201 447
2025-08-01 21:36:37,955 [INFO] ✅ ApplicationID 3 → ManagedAccountID 97 ataması başarılı.
2025-08-01 21:36:37,955 [INFO] Row 2: ✅ Zaten mevcut → None
2025-08-01 21:36:37,956 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-01 21:36:37,956 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:37,956 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,020 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-01 21:36:38,021 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-01 21:36:38,022 [INFO] [Row 1] ✅ AD managed account zaten var: pam118065
2025-08-01 21:36:38,022 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 181, AccountID: 91
2025-08-01 21:36:38,023 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,052 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/181/LinkedAccounts/91 HTTP/1.1" 200 1122
2025-08-01 21:36:38,053 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 181, AccountID: 91
2025-08-01 21:36:38,054 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-01 21:36:38,054 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10037)
2025-08-01 21:36:38,055 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,096 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:38,097 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,186 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:38,186 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10037, AccountIDs=[96, 91, 93]
2025-08-01 21:36:38,187 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [91, 93, 96, 91]
2025-08-01 21:36:38,188 [INFO] 🚀 Application atama başlatıldı. (AccountID: 91)
2025-08-01 21:36:38,188 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 91, Raw: nan
2025-08-01 21:36:38,188 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: []
2025-08-01 21:36:38,188 [INFO] ℹ️ [DEBUG] Application listesi boş geldi. Atama yapılmayacak.
2025-08-01 21:36:38,188 [INFO] Row 3: ✅ Zaten mevcut → None
2025-08-01 21:36:38,188 [DEBUG] [Row 1] 🔍 MSSQL Managed Account işlemi başlatıldı. IP: 10.59.76.112, Username: pam118064
2025-08-01 21:36:38,188 [DEBUG] [Row 1] 🆔 Bulunan managed system ID: 182
2025-08-01 21:36:38,189 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,257 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/182/ManagedAccounts HTTP/1.1" 200 1102
2025-08-01 21:36:38,257 [INFO] [Row 1] ✅ MSSQL managed account zaten var: pam118064
2025-08-01 21:36:38,258 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-01 21:36:38,258 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10038)
2025-08-01 21:36:38,259 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,299 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 3325
2025-08-01 21:36:38,301 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,412 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 3325
2025-08-01 21:36:38,413 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10038, AccountIDs=[97, 92, 95]
2025-08-01 21:36:38,414 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [92, 95, 97, 92]
2025-08-01 21:36:38,414 [INFO] 🚀 Application atama başlatıldı. (AccountID: 92)
2025-08-01 21:36:38,414 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 92, Raw: mssql
2025-08-01 21:36:38,414 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: ['mssql']
2025-08-01 21:36:38,414 [INFO] 🧪 [DEBUG] Cache'te 4 application var.
2025-08-01 21:36:38,414 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='mssql' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:38,414 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='mssql' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:38,414 [INFO] 🔁 Application eşleşti: 'mssql' → ID: 3
2025-08-01 21:36:38,415 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,444 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/92/Applications HTTP/1.1" 200 449
2025-08-01 21:36:38,445 [INFO] ℹ️ ApplicationID 3 zaten AccountID 92 için atanmış. Atlanıyor.
2025-08-01 21:36:38,445 [INFO] Row 4: ✅ Zaten mevcut → None
2025-08-01 21:36:38,445 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-01 21:36:38,445 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:38,446 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,513 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-01 21:36:38,514 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-01 21:36:38,514 [INFO] [Row 2] ✅ AD managed account zaten var: pam100887
2025-08-01 21:36:38,514 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 183, AccountID: 93
2025-08-01 21:36:38,515 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,549 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/183/LinkedAccounts/93 HTTP/1.1" 200 1122
2025-08-01 21:36:38,549 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 183, AccountID: 93
2025-08-01 21:36:38,550 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-01 21:36:38,550 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_Y_UCUNCUOGLU (ID: 10039)
2025-08-01 21:36:38,551 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,593 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10039/ManagedAccounts HTTP/1.1" 200 1124
2025-08-01 21:36:38,595 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,681 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10039/ManagedAccounts HTTP/1.1" 200 1124
2025-08-01 21:36:38,681 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10039, AccountIDs=[93]
2025-08-01 21:36:38,682 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [93, 93]
2025-08-01 21:36:38,682 [INFO] 🚀 Application atama başlatıldı. (AccountID: 93)
2025-08-01 21:36:38,682 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 93, Raw: nan
2025-08-01 21:36:38,682 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: []
2025-08-01 21:36:38,683 [INFO] ℹ️ [DEBUG] Application listesi boş geldi. Atama yapılmayacak.
2025-08-01 21:36:38,683 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-01 21:36:38,683 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-01 21:36:38,683 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:38,683 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,746 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-01 21:36:38,747 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-01 21:36:38,748 [INFO] [Row 2] ✅ AD managed account zaten var: pam100888
2025-08-01 21:36:38,748 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 181, AccountID: 94
2025-08-01 21:36:38,748 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,804 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/181/LinkedAccounts/94 HTTP/1.1" 200 1121
2025-08-01 21:36:38,804 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 181, AccountID: 94
2025-08-01 21:36:38,806 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-01 21:36:38,806 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10040)
2025-08-01 21:36:38,808 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,864 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10040/ManagedAccounts HTTP/1.1" 200 1123
2025-08-01 21:36:38,866 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:38,950 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10040/ManagedAccounts HTTP/1.1" 200 1123
2025-08-01 21:36:38,951 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10040, AccountIDs=[94]
2025-08-01 21:36:38,951 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [94, 94]
2025-08-01 21:36:38,952 [INFO] 🚀 Application atama başlatıldı. (AccountID: 94)
2025-08-01 21:36:38,952 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 94, Raw: nan
2025-08-01 21:36:38,952 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: []
2025-08-01 21:36:38,952 [INFO] ℹ️ [DEBUG] Application listesi boş geldi. Atama yapılmayacak.
2025-08-01 21:36:38,952 [INFO] Row 6: ✅ Zaten mevcut → None
2025-08-01 21:36:38,952 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-01 21:36:38,952 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 184
2025-08-01 21:36:38,953 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,015 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/184/ManagedAccounts HTTP/1.1" 200 2201
2025-08-01 21:36:39,016 [INFO] [Row 3] ✅ Oracle managed account zaten var: PAM100545
2025-08-01 21:36:39,016 [DEBUG] [Row 3] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_MISIR
2025-08-01 21:36:39,016 [INFO] [Row 3] ✅ Smart Rule zaten mevcut: THY_MA_E_MISIR (ID: 10041)
2025-08-01 21:36:39,017 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,062 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10041/ManagedAccounts HTTP/1.1" 200 1101
2025-08-01 21:36:39,064 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,154 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10041/ManagedAccounts HTTP/1.1" 200 1101
2025-08-01 21:36:39,154 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10041, AccountIDs=[95]
2025-08-01 21:36:39,155 [INFO] [Row 3] 📎 Smart Rule account listesi güncellendi: [95, 95]
2025-08-01 21:36:39,155 [INFO] 🚀 Application atama başlatıldı. (AccountID: 95)
2025-08-01 21:36:39,155 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 95, Raw: oracle,winscp
2025-08-01 21:36:39,155 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: ['oracle', 'winscp']
2025-08-01 21:36:39,156 [INFO] 🧪 [DEBUG] Cache'te 4 application var.
2025-08-01 21:36:39,156 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:39,156 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:39,156 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='winscp' (AppID: 4)
2025-08-01 21:36:39,156 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='oracle' (AppID: 6)
2025-08-01 21:36:39,156 [INFO] 🔁 Application eşleşti: 'oracle' → ID: 6
2025-08-01 21:36:39,156 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,183 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/95/Applications HTTP/1.1" 200 739
2025-08-01 21:36:39,185 [INFO] ℹ️ ApplicationID 6 zaten AccountID 95 için atanmış. Atlanıyor.
2025-08-01 21:36:39,185 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:39,185 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:39,185 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='winscp' ?== Cache='winscp' (AppID: 4)
2025-08-01 21:36:39,185 [INFO] 🔁 Application eşleşti: 'winscp' → ID: 4
2025-08-01 21:36:39,186 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,212 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/95/Applications HTTP/1.1" 200 739
2025-08-01 21:36:39,213 [INFO] ℹ️ ApplicationID 4 zaten AccountID 95 için atanmış. Atlanıyor.
2025-08-01 21:36:39,214 [INFO] Row 7: ✅ Zaten mevcut → None
2025-08-01 21:36:39,214 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: admin
2025-08-01 21:36:39,214 [INFO] [Row 3] ℹ️ Atlandı: 'pam' ile başlamayan Oracle username: admin
2025-08-01 21:36:39,214 [INFO] Row 8: ✅ Zaten mevcut → None
2025-08-01 21:36:39,214 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-01 21:36:39,214 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:39,215 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,281 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-01 21:36:39,282 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-01 21:36:39,282 [INFO] [Row 4] ✅ AD managed account zaten var: pam100887
2025-08-01 21:36:39,282 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 183, AccountID: 93
2025-08-01 21:36:39,283 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,313 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/183/LinkedAccounts/93 HTTP/1.1" 200 1122
2025-08-01 21:36:39,313 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 183, AccountID: 93
2025-08-01 21:36:39,314 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-01 21:36:39,314 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10037)
2025-08-01 21:36:39,315 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,357 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:39,359 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,445 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:39,446 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10037, AccountIDs=[96, 91, 93]
2025-08-01 21:36:39,447 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [91, 93, 96, 93]
2025-08-01 21:36:39,447 [INFO] 🚀 Application atama başlatıldı. (AccountID: 93)
2025-08-01 21:36:39,447 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 93, Raw: nan
2025-08-01 21:36:39,447 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: []
2025-08-01 21:36:39,447 [INFO] ℹ️ [DEBUG] Application listesi boş geldi. Atama yapılmayacak.
2025-08-01 21:36:39,447 [INFO] Row 9: ✅ Zaten mevcut → None
2025-08-01 21:36:39,447 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-01 21:36:39,448 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-01 21:36:39,448 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,520 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-01 21:36:39,521 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-01 21:36:39,522 [INFO] [Row 4] ✅ AD managed account zaten var: pam100888
2025-08-01 21:36:39,522 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 181, AccountID: 94
2025-08-01 21:36:39,522 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,551 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/181/LinkedAccounts/94 HTTP/1.1" 200 1121
2025-08-01 21:36:39,552 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 181, AccountID: 94
2025-08-01 21:36:39,552 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-01 21:36:39,553 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10040)
2025-08-01 21:36:39,553 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,595 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10040/ManagedAccounts HTTP/1.1" 200 1123
2025-08-01 21:36:39,597 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,682 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10040/ManagedAccounts HTTP/1.1" 200 1123
2025-08-01 21:36:39,683 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10040, AccountIDs=[94]
2025-08-01 21:36:39,684 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [94, 94]
2025-08-01 21:36:39,684 [INFO] 🚀 Application atama başlatıldı. (AccountID: 94)
2025-08-01 21:36:39,684 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 94, Raw: nan
2025-08-01 21:36:39,684 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: []
2025-08-01 21:36:39,684 [INFO] ℹ️ [DEBUG] Application listesi boş geldi. Atama yapılmayacak.
2025-08-01 21:36:39,684 [INFO] Row 10: ✅ Zaten mevcut → None
2025-08-01 21:36:39,684 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-01 21:36:39,684 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 184
2025-08-01 21:36:39,685 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,755 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/184/ManagedAccounts HTTP/1.1" 200 2201
2025-08-01 21:36:39,756 [INFO] [Row 5] ✅ Oracle managed account zaten var: PAM100545
2025-08-01 21:36:39,756 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-01 21:36:39,757 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10038)
2025-08-01 21:36:39,757 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,812 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 3325
2025-08-01 21:36:39,814 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,902 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10038/ManagedAccounts HTTP/1.1" 200 3325
2025-08-01 21:36:39,902 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10038, AccountIDs=[97, 92, 95]
2025-08-01 21:36:39,903 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [92, 95, 97, 95]
2025-08-01 21:36:39,904 [INFO] 🚀 Application atama başlatıldı. (AccountID: 95)
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 95, Raw: oracle
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: ['oracle']
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Cache'te 4 application var.
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='winscp' (AppID: 4)
2025-08-01 21:36:39,904 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='oracle' (AppID: 6)
2025-08-01 21:36:39,904 [INFO] 🔁 Application eşleşti: 'oracle' → ID: 6
2025-08-01 21:36:39,905 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:39,933 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/95/Applications HTTP/1.1" 200 739
2025-08-01 21:36:39,934 [INFO] ℹ️ ApplicationID 6 zaten AccountID 95 için atanmış. Atlanıyor.
2025-08-01 21:36:39,934 [INFO] Row 11: ✅ Zaten mevcut → None
2025-08-01 21:36:39,934 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: pam100888
2025-08-01 21:36:39,934 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 184
2025-08-01 21:36:39,935 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:40,001 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/184/ManagedAccounts HTTP/1.1" 200 2201
2025-08-01 21:36:40,002 [INFO] [Row 5] ✅ Oracle managed account zaten var: pam100888
2025-08-01 21:36:40,002 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-01 21:36:40,003 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10037)
2025-08-01 21:36:40,003 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:40,044 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:40,046 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:40,136 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10037/ManagedAccounts HTTP/1.1" 200 3347
2025-08-01 21:36:40,137 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10037, AccountIDs=[96, 91, 93]
2025-08-01 21:36:40,137 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [91, 93, 96, 96]
2025-08-01 21:36:40,138 [INFO] 🚀 Application atama başlatıldı. (AccountID: 96)
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Application ataması başlıyor → AccountID: 96, Raw: oracle
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Normalize edilmiş app listesi: ['oracle']
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Cache'te 4 application var.
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='facebook' (AppID: 2)
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='mssql' (AppID: 3)
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='winscp' (AppID: 4)
2025-08-01 21:36:40,138 [INFO] 🧪 [DEBUG] Eşleşme kontrolü: Excel='oracle' ?== Cache='oracle' (AppID: 6)
2025-08-01 21:36:40,138 [INFO] 🔁 Application eşleşti: 'oracle' → ID: 6
2025-08-01 21:36:40,139 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-01 21:36:40,166 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/96/Applications HTTP/1.1" 200 287
2025-08-01 21:36:40,167 [INFO] ℹ️ ApplicationID 6 zaten AccountID 96 için atanmış. Atlanıyor.
