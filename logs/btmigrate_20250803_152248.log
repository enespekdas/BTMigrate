2025-08-03 15:22:48,893 [INFO] 🚀 Loglama başlatıldı: logs/btmigrate_20250803_152248.log
2025-08-03 15:22:48,893 [INFO] 🚨 Hatalar ayrıca burada: logs/btmigrate_error_20250803_152248.log
2025-08-03 15:22:48,895 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:48,996 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems HTTP/1.1" 200 9324
2025-08-03 15:22:48,997 [INFO] 📥 Managed System listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 15:22:48,998 [INFO] ✅ ManagedSystem cache yüklendi. (9 kayıt)
2025-08-03 15:22:48,999 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,092 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/FunctionalAccounts HTTP/1.1" 200 2315
2025-08-03 15:22:49,093 [INFO] 📥 FunctionalAccount listesi API'den alındı ve cache'e yazıldı. (9 kayıt)
2025-08-03 15:22:49,094 [INFO] ✅ FunctionalAccount cache yüklendi. (9 kayıt)
2025-08-03 15:22:49,095 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,134 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/SmartRules HTTP/1.1" 200 10213
2025-08-03 15:22:49,135 [INFO] ✅ SmartRule cache yüklendi. (35 kayıt)
2025-08-03 15:22:49,137 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,159 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/Applications HTTP/1.1" 200 1645
2025-08-03 15:22:49,160 [INFO] 📥 Application listesi API'den alındı ve cache'e yazıldı. (4 kayıt)
2025-08-03 15:22:49,162 [INFO] ✅ Application cache yüklendi. (4 kayıt)
2025-08-03 15:22:49,163 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,189 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 200 649
2025-08-03 15:22:49,190 [INFO] 📥 User group listesi API'den alındı ve cache'e yazıldı. (2 kayıt)
2025-08-03 15:22:49,190 [INFO] ✅ UserGroup cache yüklendi. (2 kayıt)
2025-08-03 15:22:49,201 [INFO] Row 1: ✅ Zaten mevcut → None
2025-08-03 15:22:49,201 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118064
2025-08-03 15:22:49,201 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:49,203 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,273 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:49,274 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:49,274 [INFO] [Row 1] ✅ AD managed account zaten var: pam118064
2025-08-03 15:22:49,275 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 185, AccountID: 105
2025-08-03 15:22:49,275 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,316 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/185/LinkedAccounts/105 HTTP/1.1" 200 1121
2025-08-03 15:22:49,316 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 185, AccountID: 105
2025-08-03 15:22:49,317 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:22:49,318 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:22:49,319 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,368 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:49,370 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,471 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:49,471 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:22:49,472 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 105]
2025-08-03 15:22:49,472 [INFO] 🚀 Application atama başlatıldı. (AccountID: 105)
2025-08-03 15:22:49,473 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,505 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/105/Applications HTTP/1.1" 200 901
2025-08-03 15:22:49,506 [INFO] ⚠️ Application 'winscp' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:49,507 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,535 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/105/Applications HTTP/1.1" 200 901
2025-08-03 15:22:49,537 [INFO] ⚠️ Application 'mssql' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:49,538 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10042, 'AccessLevelID': 3}]}
2025-08-03 15:22:49,538 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: S_OZCAN
2025-08-03 15:22:49,539 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,632 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-03 15:22:49,633 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturuldu ama ID bilgisi alınamadı.
2025-08-03 15:22:49,634 [INFO] Row 2: ✅ Zaten mevcut → None
2025-08-03 15:22:49,634 [DEBUG] [Row 1] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam118065
2025-08-03 15:22:49,635 [DEBUG] [Row 1] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:49,635 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,707 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:49,708 [DEBUG] [Row 1] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:49,709 [INFO] [Row 1] ✅ AD managed account zaten var: pam118065
2025-08-03 15:22:49,709 [INFO] [Row 1] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 106
2025-08-03 15:22:49,710 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,745 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/106 HTTP/1.1" 200 1121
2025-08-03 15:22:49,746 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 106
2025-08-03 15:22:49,747 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:22:49,747 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:22:49,748 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,794 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:49,796 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:49,951 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:49,951 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:22:49,952 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 106]
2025-08-03 15:22:49,953 [INFO] 🚀 Application atama başlatıldı. (AccountID: 106)
2025-08-03 15:22:49,953 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_PEKDAS', 'description': 'E_PEKDAS', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10043, 'AccessLevelID': 3}]}
2025-08-03 15:22:49,953 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: E_PEKDAS
2025-08-03 15:22:49,954 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,051 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 272
2025-08-03 15:22:50,051 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturuldu ama ID bilgisi alınamadı.
2025-08-03 15:22:50,052 [INFO] Row 3: ✅ Zaten mevcut → None
2025-08-03 15:22:50,053 [DEBUG] [Row 1] 🔍 MSSQL Managed Account işlemi başlatıldı. IP: 10.59.76.112, Username: pam118064
2025-08-03 15:22:50,053 [DEBUG] [Row 1] 🆔 Bulunan managed system ID: 187
2025-08-03 15:22:50,054 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,121 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/187/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:22:50,122 [INFO] [Row 1] ✅ MSSQL managed account zaten var: pam118064
2025-08-03 15:22:50,123 [DEBUG] [Row 1] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:22:50,123 [INFO] [Row 1] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:22:50,124 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,169 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:50,172 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,271 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:50,272 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:22:50,273 [INFO] [Row 1] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 107]
2025-08-03 15:22:50,273 [INFO] 🚀 Application atama başlatıldı. (AccountID: 107)
2025-08-03 15:22:50,274 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,302 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/107/Applications HTTP/1.1" 200 449
2025-08-03 15:22:50,304 [INFO] ⚠️ Application 'mssql' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:50,305 [DEBUG] [Row 1] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10042, 'AccessLevelID': 3}]}
2025-08-03 15:22:50,305 [INFO] [Row 1] 🚀 Yeni user group oluşturuluyor: S_OZCAN
2025-08-03 15:22:50,306 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,329 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 400 37
2025-08-03 15:22:50,330 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/UserGroups
2025-08-03 15:22:50,331 [INFO] Row 4: ✅ Zaten mevcut → None
2025-08-03 15:22:50,331 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 15:22:50,331 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:50,332 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,412 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:50,413 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:50,413 [INFO] [Row 2] ✅ AD managed account zaten var: pam100887
2025-08-03 15:22:50,413 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 15:22:50,414 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,449 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 15:22:50,449 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 15:22:50,451 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_Y_UCUNCUOGLU
2025-08-03 15:22:50,451 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_Y_UCUNCUOGLU (ID: 10044)
2025-08-03 15:22:50,452 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,498 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 15:22:50,501 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,595 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10044/ManagedAccounts HTTP/1.1" 200 1124
2025-08-03 15:22:50,596 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10044, AccountIDs=[108]
2025-08-03 15:22:50,597 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [108, 108]
2025-08-03 15:22:50,597 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 15:22:50,597 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'Y_UCUNCUOGLU', 'description': 'Y_UCUNCUOGLU', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10044, 'AccessLevelID': 3}]}
2025-08-03 15:22:50,597 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: Y_UCUNCUOGLU
2025-08-03 15:22:50,598 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,689 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 280
2025-08-03 15:22:50,690 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturuldu ama ID bilgisi alınamadı.
2025-08-03 15:22:50,691 [INFO] Row 5: ✅ Zaten mevcut → None
2025-08-03 15:22:50,691 [DEBUG] [Row 2] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 15:22:50,691 [DEBUG] [Row 2] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:50,692 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,761 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:50,763 [DEBUG] [Row 2] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:50,763 [INFO] [Row 2] ✅ AD managed account zaten var: pam100888
2025-08-03 15:22:50,763 [INFO] [Row 2] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 15:22:50,764 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,798 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 15:22:50,799 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 15:22:50,800 [DEBUG] [Row 2] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 15:22:50,800 [INFO] [Row 2] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 15:22:50,801 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,844 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:22:50,847 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:50,956 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:22:50,956 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 15:22:50,957 [INFO] [Row 2] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 15:22:50,958 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 15:22:50,958 [DEBUG] [Row 2] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_YARDIMCI', 'description': 'E_YARDIMCI', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10045, 'AccessLevelID': 3}]}
2025-08-03 15:22:50,958 [INFO] [Row 2] 🚀 Yeni user group oluşturuluyor: E_YARDIMCI
2025-08-03 15:22:50,959 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,067 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 276
2025-08-03 15:22:51,067 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturuldu ama ID bilgisi alınamadı.
2025-08-03 15:22:51,068 [INFO] Row 6: ✅ Zaten mevcut → None
2025-08-03 15:22:51,069 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 15:22:51,069 [DEBUG] [Row 3] 🆔 Bulunan managed system ID: 189
2025-08-03 15:22:51,069 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,136 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:22:51,138 [INFO] [Row 3] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 15:22:51,138 [DEBUG] [Row 3] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_MISIR
2025-08-03 15:22:51,138 [INFO] [Row 3] ✅ Smart Rule zaten mevcut: THY_MA_E_MISIR (ID: 10046)
2025-08-03 15:22:51,139 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,184 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:22:51,187 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,298 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10046/ManagedAccounts HTTP/1.1" 200 1103
2025-08-03 15:22:51,299 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10046, AccountIDs=[110]
2025-08-03 15:22:51,300 [INFO] [Row 3] 📎 Smart Rule account listesi güncellendi: [110, 110]
2025-08-03 15:22:51,300 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 15:22:51,301 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,330 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:22:51,331 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:51,332 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,360 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:22:51,362 [INFO] ⚠️ Application 'winscp' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:51,362 [DEBUG] [Row 3] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_MISIR', 'description': 'E_MISIR', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10046, 'AccessLevelID': 3}]}
2025-08-03 15:22:51,362 [INFO] [Row 3] 🚀 Yeni user group oluşturuluyor: E_MISIR
2025-08-03 15:22:51,364 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,458 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 201 270
2025-08-03 15:22:51,459 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturuldu ama ID bilgisi alınamadı.
2025-08-03 15:22:51,459 [INFO] Row 7: ✅ Zaten mevcut → None
2025-08-03 15:22:51,460 [DEBUG] [Row 3] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: admin
2025-08-03 15:22:51,460 [INFO] [Row 3] ℹ️ Atlandı: 'pam' ile başlamayan Oracle username: admin
2025-08-03 15:22:51,460 [INFO] Row 8: ✅ Zaten mevcut → None
2025-08-03 15:22:51,460 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100887
2025-08-03 15:22:51,460 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:51,461 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,532 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:51,533 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:51,534 [INFO] [Row 4] ✅ AD managed account zaten var: pam100887
2025-08-03 15:22:51,534 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 188, AccountID: 108
2025-08-03 15:22:51,535 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,568 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/188/LinkedAccounts/108 HTTP/1.1" 200 1122
2025-08-03 15:22:51,568 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 188, AccountID: 108
2025-08-03 15:22:51,569 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:22:51,570 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:22:51,571 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,616 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:51,619 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,713 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:51,714 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:22:51,715 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 108]
2025-08-03 15:22:51,715 [INFO] 🚀 Application atama başlatıldı. (AccountID: 108)
2025-08-03 15:22:51,715 [DEBUG] [Row 4] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_PEKDAS', 'description': 'E_PEKDAS', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10043, 'AccessLevelID': 3}]}
2025-08-03 15:22:51,716 [INFO] [Row 4] 🚀 Yeni user group oluşturuluyor: E_PEKDAS
2025-08-03 15:22:51,716 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,741 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 400 38
2025-08-03 15:22:51,742 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/UserGroups
2025-08-03 15:22:51,743 [INFO] Row 9: ✅ Zaten mevcut → None
2025-08-03 15:22:51,743 [DEBUG] [Row 4] 🔍 AD Managed Account işlemi başlatıldı. Domain: quasys.local, Username: pam100888
2025-08-03 15:22:51,743 [DEBUG] [Row 4] 💾 Cache'ten alınan managed systems: 9 kayıt
2025-08-03 15:22:51,744 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,811 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/2/ManagedAccounts HTTP/1.1" 200 4492
2025-08-03 15:22:51,812 [DEBUG] [Row 4] 🔄 Mevcut managed account sayısı: 4
2025-08-03 15:22:51,812 [INFO] [Row 4] ✅ AD managed account zaten var: pam100888
2025-08-03 15:22:51,812 [INFO] [Row 4] 🔗 Linkleme işlemi başlatıldı → SystemID: 186, AccountID: 109
2025-08-03 15:22:51,813 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,848 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/ManagedSystems/186/LinkedAccounts/109 HTTP/1.1" 200 1123
2025-08-03 15:22:51,849 [INFO] [ManagedAccountAPI] 🔗 Linkleme başarılı → SystemID: 186, AccountID: 109
2025-08-03 15:22:51,850 [DEBUG] [Row 4] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_YARDIMCI
2025-08-03 15:22:51,850 [INFO] [Row 4] ✅ Smart Rule zaten mevcut: THY_MA_E_YARDIMCI (ID: 10045)
2025-08-03 15:22:51,851 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,896 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:22:51,899 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:51,995 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10045/ManagedAccounts HTTP/1.1" 200 1125
2025-08-03 15:22:51,995 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10045, AccountIDs=[109]
2025-08-03 15:22:51,996 [INFO] [Row 4] 📎 Smart Rule account listesi güncellendi: [109, 109]
2025-08-03 15:22:51,997 [INFO] 🚀 Application atama başlatıldı. (AccountID: 109)
2025-08-03 15:22:51,997 [DEBUG] [Row 4] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_YARDIMCI', 'description': 'E_YARDIMCI', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10045, 'AccessLevelID': 3}]}
2025-08-03 15:22:51,997 [INFO] [Row 4] 🚀 Yeni user group oluşturuluyor: E_YARDIMCI
2025-08-03 15:22:51,998 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,033 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 400 40
2025-08-03 15:22:52,034 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/UserGroups
2025-08-03 15:22:52,035 [INFO] Row 10: ✅ Zaten mevcut → None
2025-08-03 15:22:52,035 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: PAM100545
2025-08-03 15:22:52,035 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 15:22:52,036 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,104 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:22:52,105 [INFO] [Row 5] ✅ Oracle managed account zaten var: PAM100545
2025-08-03 15:22:52,106 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_S_OZCAN
2025-08-03 15:22:52,106 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_S_OZCAN (ID: 10042)
2025-08-03 15:22:52,107 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,153 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:52,155 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,251 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10042/ManagedAccounts HTTP/1.1" 200 3327
2025-08-03 15:22:52,252 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10042, AccountIDs=[105, 107, 110]
2025-08-03 15:22:52,253 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [105, 107, 110, 110]
2025-08-03 15:22:52,253 [INFO] 🚀 Application atama başlatıldı. (AccountID: 110)
2025-08-03 15:22:52,254 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,284 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/110/Applications HTTP/1.1" 200 739
2025-08-03 15:22:52,285 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:52,286 [DEBUG] [Row 5] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'S_OZCAN', 'description': 'S_OZCAN', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10042, 'AccessLevelID': 3}]}
2025-08-03 15:22:52,286 [INFO] [Row 5] 🚀 Yeni user group oluşturuluyor: S_OZCAN
2025-08-03 15:22:52,287 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,310 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 400 37
2025-08-03 15:22:52,311 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/UserGroups
2025-08-03 15:22:52,312 [INFO] Row 11: ✅ Zaten mevcut → None
2025-08-03 15:22:52,312 [DEBUG] [Row 5] 🔍 Oracle Managed Account işlemi başlatıldı. IP: 10.59.76.111, Username: pam100888
2025-08-03 15:22:52,312 [DEBUG] [Row 5] 🆔 Bulunan managed system ID: 189
2025-08-03 15:22:52,313 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,379 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedSystems/189/ManagedAccounts HTTP/1.1" 200 2205
2025-08-03 15:22:52,381 [INFO] [Row 5] ✅ Oracle managed account zaten var: pam100888
2025-08-03 15:22:52,381 [DEBUG] [Row 5] 🔍 Smart Rule adı oluşturuldu: THY_MA_E_PEKDAS
2025-08-03 15:22:52,381 [INFO] [Row 5] ✅ Smart Rule zaten mevcut: THY_MA_E_PEKDAS (ID: 10043)
2025-08-03 15:22:52,382 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,426 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:52,428 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,526 [DEBUG] https://bt.quasys.local:443 "PUT /BeyondTrust/api/public/v3/QuickRules/10043/ManagedAccounts HTTP/1.1" 200 3348
2025-08-03 15:22:52,527 [INFO] [SmartRuleAPI] 🔁 SmartRule güncellendi. ID=10043, AccountIDs=[106, 108, 111]
2025-08-03 15:22:52,527 [INFO] [Row 5] 📎 Smart Rule account listesi güncellendi: [106, 108, 111, 111]
2025-08-03 15:22:52,528 [INFO] 🚀 Application atama başlatıldı. (AccountID: 111)
2025-08-03 15:22:52,529 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,558 [DEBUG] https://bt.quasys.local:443 "GET /BeyondTrust/api/public/v3/ManagedAccounts/111/Applications HTTP/1.1" 200 287
2025-08-03 15:22:52,560 [INFO] ⚠️ Application 'oracle' zaten atanmış, atlama yapıldı.
2025-08-03 15:22:52,560 [DEBUG] [Row 5] 🧱 User group oluşturma payload: {'groupType': 'BeyondInsight', 'groupName': 'E_PEKDAS', 'description': 'E_PEKDAS', 'isActive': True, 'Permissions': '[ { PermissionID: 52, AccessLevelID: 1 },\t{ PermissionID: 76, AccessLevelID: 3 },\t{ PermissionID: 77, AccessLevelID: 1 }]', 'SmartRuleAccess': [{'SmartRuleID': 10043, 'AccessLevelID': 3}]}
2025-08-03 15:22:52,560 [INFO] [Row 5] 🚀 Yeni user group oluşturuluyor: E_PEKDAS
2025-08-03 15:22:52,561 [DEBUG] Starting new HTTPS connection (1): bt.quasys.local:443
2025-08-03 15:22:52,585 [DEBUG] https://bt.quasys.local:443 "POST /BeyondTrust/api/public/v3/UserGroups HTTP/1.1" 400 38
2025-08-03 15:22:52,585 [ERROR] [UserGroupAPI] Kod: -1 Message: User group oluşturma hatası: 400 Client Error: Bad Request for url: https://bt.quasys.local/BeyondTrust/api/public/v3/UserGroups
